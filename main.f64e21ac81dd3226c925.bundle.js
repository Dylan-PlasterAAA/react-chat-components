(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1245:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5),__webpack_require__(58),__webpack_require__(51),__webpack_require__(40),__webpack_require__(44),__webpack_require__(1246),__webpack_require__(1247),__webpack_require__(9),__webpack_require__(52);var _clientApi=__webpack_require__(71),_clientLogger=__webpack_require__(43),_configFilename=__webpack_require__(1288);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1251:function(module,exports,__webpack_require__){var api=__webpack_require__(108),content=__webpack_require__(1252);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1252:function(module,exports,__webpack_require__){(exports=__webpack_require__(109)(!1)).push([module.i,":root{--msg-input__background: #f8f6fd;--msg-input__emoji-picker__bottom: 0;--msg-input__emoji-picker__right: 0;--msg-input__icon__color: #585858;--msg-input__icon__margin: 5px 10px;--msg-input__icon__fontSize: 22px;--msg-input__indicator__color: #585858;--msg-input__indicator__fontFamily: inherit;--msg-input__indicator__fontSize: 11px;--msg-input__indicator__fontWeight: normal;--msg-input__indicator__margin: 10px 0 0;--msg-input__indicator__minHeight: 16px;--msg-input__indicator__padding: 0;--msg-input__padding: 0 24px;--msg-input__send__background: #8e2de2;--msg-input__send__border: none;--msg-input__send__borderRadius: 5px;--msg-input__send__color: #ffffff;--msg-input__send__fontFamily: inherit;--msg-input__send__fontSize: 13px;--msg-input__send__fontWeight: bold;--msg-input__send__margin: 2px;--msg-input__send__minWidth: 40px;--msg-input__send__padding: 10px;--msg-input__textarea--focus__border: 1px solid #9b9b9b;--msg-input__textarea--focus__outline: none;--msg-input__textarea__background: transparent;--msg-input__textarea__border: 1px solid #9b9b9b;--msg-input__textarea__borderRadius: 5px;--msg-input__textarea__boxShadow: none;--msg-input__textarea__color: #585858;--msg-input__textarea__fontFamily: inherit;--msg-input__textarea__fontSize: 13px;--msg-input__textarea__lineHeight: 15px;--msg-input__textarea__outline: none;--msg-input__textarea__padding: 12px;--msg-input__textarea__resize: none;--msg-input__textarea__width: 100%}.pn-msg-input{background:var(--msg-input__background);padding:var(--msg-input__padding)}.pn-msg-input__wrapper{background:var(--msg-input__textarea__background);border-radius:var(--msg-input__textarea__borderRadius);border:var(--msg-input__textarea__border);box-shadow:var(--msg-input__textarea__boxShadow);display:flex;position:relative}.pn-msg-input__wrapper:focus-within{outline:var(--msg-input__textarea--focus__outline);border:var(--msg-input__textarea--focus__border)}.pn-msg-input__spacer{padding:var(--msg-input__textarea__padding);width:100%}.pn-msg-input__textarea{background:transparent;border:none;box-sizing:border-box;color:var(--msg-input__textarea__color);font-family:var(--msg-input__textarea__fontFamily);font-size:var(--msg-input__textarea__fontSize);height:var(--msg-input__textarea__lineHeight);line-height:var(--msg-input__textarea__lineHeight);outline:var(--msg-input__textarea__outline);padding:0;resize:var(--msg-input__textarea__resize);width:var(--msg-input__textarea__width)}.pn-msg-input__send{background:var(--msg-input__send__background);border-radius:var(--msg-input__send__borderRadius);border:var(--msg-input__send__border);color:var(--msg-input__send__color);cursor:pointer;font-family:var(--msg-input__send__fontFamily);font-size:var(--msg-input__send__fontSize);font-weight:var(--msg-input__send__fontWeight);margin:var(--msg-input__send__margin);min-width:var(--msg-input__send__minWidth);outline:none;padding:var(--msg-input__send__padding);white-space:nowrap}.pn-msg-input__emoji-picker{bottom:var(--msg-input__emoji-picker__bottom);right:var(--msg-input__emoji-picker__right);position:absolute}.pn-msg-input__icon{align-self:center;cursor:pointer;color:var(--msg-input__icon__color);font-size:var(--msg-input__icon__fontSize);margin:var(--msg-input__icon__margin)}.pn-msg-input__indicator{color:var(--msg-input__indicator__color);font-family:var(--msg-input__indicator__fontFamily);font-size:var(--msg-input__indicator__fontSize);font-weight:var(--msg-input__indicator__fontWeight);margin:var(--msg-input__indicator__margin);min-height:var(--msg-input__indicator__minHeight);padding:var(--msg-input__indicator__padding)}.pn-msg-input--dark,.pn-msg-input--event-dark,.pn-msg-input--support-dark{--msg-input__background: #2f3136;--msg-input__icon__color: #dcddde;--msg-input__indicator__color: #dcddde;--msg-input__textarea__background: #36393f;--msg-input__textarea__border: 1px solid #36393f;--msg-input__textarea__boxShadow: 0 6px 10px rgba(20, 20, 20, 0.15);--msg-input__textarea__color: #dcddde;--msg-input__textarea--focus__border: 1px solid #36393f}\n",""]),module.exports=exports},1255:function(module,exports,__webpack_require__){var api=__webpack_require__(108),content=__webpack_require__(1256);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1256:function(module,exports,__webpack_require__){(exports=__webpack_require__(109)(!1)).push([module.i,':root{--msg-list__background: #f8f6fd;--msg-list__padding: 0 0 10px;--msg-list__unread__background: #9b9b9b;--msg-list__unread__borderRadius: 20px;--msg-list__unread__color: #ffffff;--msg-list__unread__fontSize: 13px;--msg-list__unread__fontWeight: 400;--msg-list__unread__padding: 8px 16px;--msg-list__unread__offset: 50px;--msg-list__spinner__color: #9b9b9b;--msg--hover__background: transparent;--msg__flexDirection: row;--msg__padding: 10px 24px;--msg__actions--hover__background: #e1dfe6;--msg__actions__background: #ffffff;--msg__actions__color: #585858;--msg__actions__fontSize: 22px;--msg__actions__borderRadius: 10px;--msg__actions__padding: 2px 8px;--msg__author__color: #585858;--msg__author__fontSize: 15px;--msg__author__fontWeight: 500;--msg__author__padding: 0;--msg__avatar__display: block;--msg__avatar__margin: 0 21px 0 0;--msg__avatar__size: 36px;--msg__avatar__borderRadius: 36px;--msg__bubble__background: #ffffff;--msg__bubble__boxShadow: 0 6px 10px rgba(103, 19, 176, 0.06);--msg__bubble__borderRadius: 0 10px 10px 10px;--msg__bubble__color: #585858;--msg__bubble__fontSize: 13px;--msg__bubble__fontWeight: 400;--msg__bubble__margin: 0;--msg__bubble__padding: 16px;--msg__image__borderRadius: 10px;--msg__image__margin: 10px 0 0;--msg__link__margin: 10px 0 0;--msg__link__padding: 20px;--msg__link-description__color: #9b9b9b;--msg__link-thumb__maxWidth: 210px;--msg__link-title__color: #8e2de2;--msg__main__alignItems: flex-start;--msg__main__flexDirection: column;--msg__main__margin: 0;--msg__main__maxWidth: 60%;--msg__time__display: block;--msg__time__color: #9b9b9b;--msg__time__fontSize: 11px;--msg__time__fontWeight: normal;--msg__time__padding: 0 10px;--msg__title__alignItems: baseline;--msg__title__display: flex;--msg__title__margin: 0 0 10px;--msg__reaction--hover__background: #e1dfe6;--msg__reaction__background: #ffffff;--msg__reaction__borderRadius: 10px;--msg__reaction__margin: 10px 5px 0 0;--msg__reaction__padding: 7px 10px}.pn-msg-list{background:var(--msg-list__background);display:flex;flex-direction:column;height:100%;overflow:auto;padding:var(--msg-list__padding);transform:translateZ(0);width:100%}.pn-msg-list__spinner{color:var(--msg-list__spinner__color)}.pn-msg-list__unread{background:var(--msg-list__unread__background);border-radius:var(--msg-list__unread__borderRadius);color:var(--msg-list__unread__color);cursor:pointer;font-size:var(--msg-list__unread__fontSize);font-weight:var(--msg-list__unread__fontWeight);left:50%;padding:var(--msg-list__unread__padding);position:fixed;top:var(--msg-list__unread__offset);transform:translateX(-50%)}.pn-msg-list__bottom-ref{width:100%;height:1px}.pn-msg-list__spacer{flex:1 1 auto}.pn-msg-list__emoji-picker{position:absolute;bottom:0px;right:40px}.pn-msg{display:flex;flex-direction:var(--msg__flexDirection);padding:var(--msg__padding);position:relative}.pn-msg:hover{background:var(--msg--hover__background)}.pn-msg:hover .pn-msg__actions{display:block}.pn-msg__actions{color:var(--msg__actions__color);cursor:pointer;display:none;font-size:var(--msg__actions__fontSize);position:absolute;right:10px;top:10px}.pn-msg__actions>div{background:var(--msg__actions__background);border-radius:var(--msg__actions__borderRadius);padding:var(--msg__actions__padding)}.pn-msg__actions>div:hover{background:var(--msg__actions--hover__background)}.pn-msg__main{align-items:var(--msg__main__alignItems);display:flex;flex-direction:var(--msg__main__flexDirection);padding:var(--msg__main__margin);max-width:var(--msg__main__maxWidth)}.pn-msg__title{align-items:var(--msg__title__alignItems);display:var(--msg__title__display);margin:var(--msg__title__margin)}.pn-msg__bubble{background:var(--msg__bubble__background);box-shadow:var(--msg__bubble__boxShadow);border-radius:var(--msg__bubble__borderRadius);color:var(--msg__bubble__color);display:inline-block;font-size:var(--msg__bubble__fontSize);font-weight:var(--msg__bubble__fontWeight);margin:var(--msg__bubble__margin);padding:var(--msg__bubble__padding)}.pn-msg__author{color:var(--msg__author__color);font-size:var(--msg__author__fontSize);font-weight:var(--msg__author__fontWeight);padding:var(--msg__author__padding)}.pn-msg__time{display:var(--msg__time__display);color:var(--msg__time__color);font-size:var(--msg__time__fontSize);font-weight:var(--msg__time__fontWeight);padding:var(--msg__time__padding)}.pn-msg__avatar{display:var(--msg__avatar__display);margin:var(--msg__avatar__margin);width:var(--msg__avatar__size)}.pn-msg__avatar img{border-radius:var(--msg__avatar__borderRadius);width:100%}.pn-msg__avatar-placeholder{background:var(--msg__bubble__background);border-radius:var(--msg__avatar__borderRadius);height:var(--msg__avatar__size);width:var(--msg__avatar__size)}.pn-msg__reaction{background:var(--msg__reaction__background);border-radius:var(--msg__reaction__borderRadius);color:var(--msg__bubble__color);cursor:pointer;display:inline-block;font-size:var(--msg__bubble__fontSize);font-weight:var(--msg__bubble__fontWeight);margin:var(--msg__reaction__margin);padding:var(--msg__reaction__padding)}.pn-msg__reaction:hover{background:var(--msg__reaction--hover__background)}.pn-msg__reaction--active{background:var(--msg__reaction--hover__background)}.pn-msg__image{border-radius:var(--msg__image__borderRadius);margin:var(--msg__image__margin);max-width:100%}.pn-msg__link{background:var(--msg__bubble__background);border-radius:var(--msg__bubble__borderRadius);box-shadow:var(--msg__bubble__boxShadow);color:var(--msg__bubble__color);display:flex;font-size:var(--msg__bubble__fontSize);font-weight:var(--msg__bubble__fontWeight);margin:var(--msg__link__margin);overflow:hidden;text-decoration:none}.pn-msg__link img{max-width:var(--msg__link-thumb__maxWidth)}.pn-msg__link>div{padding:var(--msg__link__padding)}.pn-msg__link-name{font-size:15px;font-weight:500;margin:0}.pn-msg__link-name img{margin-right:10px;max-height:16px;max-width:16px;vertical-align:bottom}.pn-msg__link-title{color:var(--msg__link-title__color);font-weight:500;margin:2px 0}.pn-msg__link-description{color:var(--msg__link-description__color);margin:0}.pn-msg-list--light{--msg--hover__background: #f1eff7}.pn-msg-list--dark{--msg-list__background: #2f3136;--msg--hover__background: #2b2d31;--msg__actions--hover__background: #232427;--msg__actions__background: #36393f;--msg__actions__color: #dcddde;--msg__reaction--hover__background: #232427;--msg__reaction__background: #36393f;--msg__author__color: #dcddde;--msg__bubble__background: #36393f;--msg__bubble__boxShadow: 0 6px 10px rgba(20, 20, 20, 0.15);--msg__bubble__color: #dcddde}.pn-msg-list--support{--msg__title__display: none}.pn-msg-list--support .pn-msg--own{--msg__flexDirection: row-reverse;--msg__avatar__display: none}.pn-msg-list--support-dark{--msg-list__background: #2f3136;--msg__author__color: #dcddde;--msg__bubble__background: #36393f;--msg__bubble__boxShadow: 0 6px 10px rgba(20, 20, 20, 0.15);--msg__bubble__color: #dcddde;--msg__title__display: none}.pn-msg-list--support-dark .pn-msg--own{--msg__flexDirection: row-reverse;--msg__avatar__display: none}.pn-msg-list--event{--msg__author__fontSize: 13px;--msg__avatar__display: none;--msg__bubble__background: transparent;--msg__bubble__boxShadow: none;--msg__bubble__padding: 0;--msg__main__alignItems: baseline;--msg__main__flexDirection: row;--msg__main__margin: 0;--msg__main__maxWidth: 100%;--msg__padding: 4px 12px;--msg__time__display: none;--msg__title__margin: 0 6px 0 0}.pn-msg-list--event .pn-msg__author:after{content:":"}.pn-msg-list--event-dark{--msg-list__background: #2f3136;--msg__author__color: #dcddde;--msg__author__fontSize: 13px;--msg__avatar__display: none;--msg__bubble__background: transparent;--msg__bubble__boxShadow: none;--msg__bubble__color: #dcddde;--msg__bubble__padding: 0;--msg__main__alignItems: baseline;--msg__main__flexDirection: row;--msg__main__margin: 0;--msg__main__maxWidth: 100%;--msg__padding: 4px 12px;--msg__time__display: none;--msg__title__margin: 0 6px 0 0}.pn-msg-list--event-dark .pn-msg__author:after{content:":"}\n',""]),module.exports=exports},1257:function(module,exports,__webpack_require__){var api=__webpack_require__(108),content=__webpack_require__(1258);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1258:function(module,exports,__webpack_require__){(exports=__webpack_require__(109)(!1)).push([module.i,":root{--member-list__background: transparent;--member__padding: 9px 24px;--member__background: transparent;--member--hover__background: #f8f6fd;--member__avatar__display: block;--member__avatar__margin: 0 24px 0 0;--member__avatar__size: 36px;--member__avatar__borderRadius: 36px;--member__name__color: #585858;--member__name__fontSize: 15px;--member__name__fontWeight: 500;--member__name__padding: 0;--member__name__margin: 0;--member__title__color: #9b9b9b;--member__title__fontSize: 13px;--member__title__fontWeight: 400;--member__title__padding: 5px 0 0;--member__title__margin: 0;--member__presence__borderRadius: 5px;--member__presence__color: #62e905;--member__presence__left: 58px;--member__presence__position: absolute;--member__presence__size: 6px;--member__presence__top: 6px}.pn-member-list{height:100%;overflow-y:auto;width:100%;background:var(--member-list__background)}.pn-member{background:var(--member__background);display:flex;padding:var(--member__padding);position:relative}.pn-member:hover{background:var(--member--hover__background)}.pn-member__avatar{display:var(--member__avatar__display);margin:var(--member__avatar__margin);width:var(--member__avatar__size)}.pn-member__avatar img{border-radius:var(--member__avatar__borderRadius);width:100%}.pn-member__name{color:var(--member__name__color);font-size:var(--member__name__fontSize);font-weight:var(--member__name__fontWeight);margin:var(--member__name__margin);padding:var(--member__name__padding);text-align:left}.pn-member__title{color:var(--member__title__color);font-size:var(--member__title__fontSize);font-weight:var(--member__title__fontWeight);margin:var(--member__title__margin);padding:var(--member__title__padding);text-align:left}.pn-member__presence{background:var(--member__presence__color);border-radius:var(--member__presence__borderRadius);height:var(--member__presence__size);left:var(--member__presence__left);position:var(--member__presence__position);top:var(--member__presence__top);width:var(--member__presence__size)}.pn-member-list--dark,.pn-member-list--event-dark,.pn-member-list--support-dark{--member-list__background: #292b2f;--member--hover__background: #36393f;--member__name__color: #dcddde}\n",""]),module.exports=exports},1259:function(module,exports,__webpack_require__){var api=__webpack_require__(108),content=__webpack_require__(1260);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1260:function(module,exports,__webpack_require__){(exports=__webpack_require__(109)(!1)).push([module.i,":root{--channel-list__background: linear-gradient(rgb(142, 45, 226) 0%, rgb(74, 0, 224) 100%);--channel__alignItems: center;--channel__padding: 12px 40px 12px 24px;--channel__justifyContent: space-between;--channel__background: transparent;--channel--hover__background: rgba(255, 255, 255, 0.1);--channel--active__background: rgba(0, 0, 0, 0.1);--channel__name__color: white;--channel__name__fontSize: 15px;--channel__name__fontWeight: 500;--channel__name__padding: 0;--channel__name__margin: 0;--channel__description__color: #c7c7c7;--channel__description__display: inline-block;--channel__description__fontSize: 13px;--channel__description__fontWeight: 400;--channel__description__padding: 3px 0 0;--channel__description__margin: 0;--channel__leave__color: white;--channel__leave__size: 20px;--channel__leave__right: 20px;--channel__leave__top: auto;--channel__membership__borderRadius: 5px;--channel__membership__color: #62e905;--channel__membership__display: inline-block;--channel__membership__left: 10px;--channel__membership__position: absolute;--channel__membership__size: 6px;--channel__membership__top: 19px}.pn-channel-list{height:100%;overflow-y:auto;width:100%;background:var(--channel-list__background)}.pn-channel{align-items:var(--channel__alignItems);background:var(--channel__background);cursor:pointer;display:flex;justify-content:var(--channel__justifyContent);padding:var(--channel__padding);position:relative}.pn-channel:hover{background:var(--channel--hover__background)}.pn-channel:hover .pn-channel__leave{display:inline}.pn-channel--active{background:var(--channel--active__background)}.pn-channel__name{color:var(--channel__name__color);font-size:var(--channel__name__fontSize);font-weight:var(--channel__name__fontWeight);margin:var(--channel__name__margin);padding:var(--channel__name__padding);text-align:left}.pn-channel__description{color:var(--channel__description__color);display:var(--channel__description__display);font-size:var(--channel__description__fontSize);font-weight:var(--channel__description__fontWeight);margin:var(--channel__description__margin);padding:var(--channel__description__padding);text-align:left}.pn-channel__leave{color:var(--channel__leave__color);display:none;height:var(--channel__leave__size);position:absolute;right:var(--channel__leave__right);top:var(--channel__leave__top);width:var(--channel__leave__size)}.pn-channel__membership{background:var(--channel__membership__color);border-radius:var(--channel__membership__borderRadius);display:var(--channel__membership__display);height:var(--channel__membership__size);left:var(--channel__membership__left);position:var(--channel__membership__position);top:var(--channel__membership__top);width:var(--channel__membership__size)}.pn-channel-list--dark,.pn-channel-list--event-dark,.pn-channel-list--support-dark{--channel-list__background: linear-gradient(rgb(41 43 47) 0%, rgb(47 49 54) 100%);--channel--hover__background: #36393f;--channel--active__background: #2f3136;--channel__description__color: #929292;--channel__name__color: #dcddde;--channel__leave__color: #dcddde}\n",""]),module.exports=exports},1261:function(module,exports,__webpack_require__){var api=__webpack_require__(108),content=__webpack_require__(1262);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1262:function(module,exports,__webpack_require__){(exports=__webpack_require__(109)(!1)).push([module.i,":root{--occupancy-indicator__display: inline-block;--occupancy-indicator__fontSize: 12px;--occupancy-indicator__fontWeight: 500;--occupancy-indicator__margin: 10px}.pn-occupancy-indicator{display:var(--occupancy-indicator__display);font-size:var(--occupancy-indicator__fontSize);font-weight:var(--occupancy-indicator__fontWeight);margin:var(--occupancy-indicator__margin)}\n",""]),module.exports=exports},1263:function(module,exports,__webpack_require__){var api=__webpack_require__(108),content=__webpack_require__(1264);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1264:function(module,exports,__webpack_require__){(exports=__webpack_require__(109)(!1)).push([module.i,":root{--typing-indicator__background: #f8f6fd;--typing-indicator__color: #9b9b9b;--typing-indicator__display: inline-block;--typing-indicator__fontSize: 11px;--typing-indicator__fontWeight: 500;--typing-indicator__padding: 8px 24px}.pn-typing-indicator{background:var(--typing-indicator__background);color:var(--typing-indicator__color);display:var(--typing-indicator__display);font-size:var(--typing-indicator__fontSize);font-weight:var(--typing-indicator__fontWeight);padding:var(--typing-indicator__padding)}.pn-typing-indicator--dark,.pn-typing-indicator--event-dark,.pn-typing-indicator--support-dark{--typing-indicator__background: #2f3136;--typing-indicator__color: #9b9b9b}\n",""]),module.exports=exports},1266:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(420).configure)([__webpack_require__(1267),__webpack_require__(1270)],module,!1)}).call(this,__webpack_require__(124)(module))},1267:function(module,exports,__webpack_require__){var map={"./introduction/about.stories.mdx":1268,"./introduction/usage.stories.mdx":1269};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1267},1268:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(5),__webpack_require__(24),__webpack_require__(4),__webpack_require__(9),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(119),_assets_screenshot_png__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(549),_assets_screenshot_png__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_assets_screenshot_png__WEBPACK_IMPORTED_MODULE_7__);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.Meta,{title:"Introduction/About",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h1",{id:"pubnub-chat-components-for-react-beta"},"PubNub Chat Components for React (Beta)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",null,"PubNub Chat Components is a development kit of React components that aims to help you to easily build\nChat applications using PubNub infrastructure. It removes the complexicity of picking an adequate\nChat engine, learning its APIs and dealing with its low-level internals. As the same time it allows\nyou to create apps of various use cases, with different functionalities and customizable looks."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("blockquote",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",{parentName:"blockquote"},"Warning: The Chat Components are currently in Beta stage and are subject to change")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("img",{src:_assets_screenshot_png__WEBPACK_IMPORTED_MODULE_7___default.a,alt:"PubNub Chat Components",style:{margin:"20px 0 0 -54px",maxWidth:"none"}}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("br",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h2",{id:"benefits"},"Benefits"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ul"},"Ease of installation and setup"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ul"},"Allows to build fully-featured chat applications"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ul"},"No need to deal with server code"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ul"},"Useful compontent options to tweak the functionalities"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ul"},"Built-in light and dark themes for various use cases: group, support and event chats"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ul"},"Extra customization with CSS variables"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ul"},"TypeScript support")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h2",{id:"requirements"},"Requirements"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("inlineCode",{parentName:"li"},"React 16.8+")," and ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("inlineCode",{parentName:"li"},"ReactDOM 16.8+")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("inlineCode",{parentName:"li"},"PubNub JavaScript SDK 4.29+"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h2",{id:"components"},"Components"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ul"},"Chat Components (obligatory state provider)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ul"},"Message List"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ul"},"Message Input"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ul"},"Channel List"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ul"},"Channel Members"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ul"},"Occupancy Indicator"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ul"},"Typing Indicator")))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Introduction/About",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1269:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(5),__webpack_require__(24),__webpack_require__(4),__webpack_require__(9),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(119);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.Meta,{title:"Introduction/Usage",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h1",{id:"usage"},"Usage"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("br",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("br",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h2",{id:"pubnub-account"},"PubNub Account"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",null,"Sign in or create an account to create an app on the Admin Portal and get the keys to use in your\napplication."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",null,"When you create a new app, the first set of keys is generated automatically, but a single app can\nhave as many keysets as you like. We recommend that you create separate keysets for production and\ntest environments."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",null,"Please make sure to enable ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("inlineCode",{parentName:"p"},"Objects")," functionality and select a geographical region corresponding to\nmost users of your application."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h2",{id:"installation"},"Installation"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",null,"Install the components and all required dependencies using npm:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("blockquote",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",{parentName:"blockquote"},"Please note that the components are not deployed to npm yet!")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("code",_extends({parentName:"pre"},{className:"language-bash"}),"npm install --save pubnub pubnub-chat-components\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h2",{id:"usage-1"},"Usage"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("ol",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ol"},"Import PubNub and the components")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),'import { PubNub } from "pubnub";\nimport {\n  ChatComponents,\n  MessageList,\n  MessageInput,\n  ChannelList,\n  MemberList,\n} from "pubnub-chat-components";\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("ol",{start:2},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ol"},"Create your PubNub client and rest of the configuration for the ChatComponents, which serves as a\ncommon context for all of the components:")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),'const pubnub = new PubNub({\n  publishKey: "myPublishKey",\n  subscribeKey: "mySubscribeKey",\n  uuid: "myUniqueUUID",\n});\nconst channel = "myCurrentChannel";\nconst theme = "light";\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("ol",{start:3},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("li",{parentName:"ol"},"Place the components within the state provider in any order that your app requires. Components\ncan be tweaked later on using option properties and CSS variables.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"const MyCommponent = () => {\n  return (\n    <ChatComponents {...{ pubnub, channel, theme }}>\n      <MessageList>\n      <MessageInput>\n    </ChatComponents>\n  );\n};\n")))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Introduction/Usage",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1270:function(module,exports,__webpack_require__){var map={"./components/ChannelList.stories.tsx":1271,"./components/ChatComponents.stories.tsx":1272,"./components/MemberList.stories.tsx":1273,"./components/MessageInput.stories.tsx":1274,"./components/MessageList.stories.tsx":1277,"./components/OccupancyIndicator.stories.tsx":1278,"./components/TypingIndicator.stories.tsx":1279,"./examples/EventChat.stories.tsx":1280,"./examples/TeamChat.stories.tsx":1281};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1270},1271:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(95),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_src__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(0),__webpack_require__(33));__webpack_exports__.default={title:"Components/Channel List",component:_src__WEBPACK_IMPORTED_MODULE_4__.ChannelList};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.ChannelList,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.parameters=Object.assign({storySource:{source:"(args) => <ChannelList {...args} />"}},Default.parameters)},1272:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(95),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_src__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(0),__webpack_require__(33));__webpack_exports__.default={title:"Components/Chat Components (Provider)",component:_src__WEBPACK_IMPORTED_MODULE_4__.ChatComponents};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.ChatComponents,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.parameters=Object.assign({storySource:{source:"(args) => <ChatComponents {...args} />"}},Default.parameters)},1273:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(95),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_src__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(0),__webpack_require__(33));__webpack_exports__.default={title:"Components/Member List",component:_src__WEBPACK_IMPORTED_MODULE_4__.MemberList};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.MemberList,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.parameters=Object.assign({storySource:{source:"(args) => <MemberList {...args} />"}},Default.parameters)},1274:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(95),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_src__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(0),__webpack_require__(33));__webpack_require__(1275);__webpack_exports__.default={title:"Components/Message Input",component:_src__WEBPACK_IMPORTED_MODULE_4__.MessageInput};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.MessageInput,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.parameters=Object.assign({storySource:{source:"(args) => <MessageInput {...args} />"}},Default.parameters)},1275:function(module,exports,__webpack_require__){var api=__webpack_require__(108),content=__webpack_require__(1276);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1276:function(module,exports,__webpack_require__){(exports=__webpack_require__(109)(!1)).push([module.i,":root {\n  --msg-input__padding: 24px;\n}",""]),module.exports=exports},1277:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(95),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_src__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(0),__webpack_require__(33));__webpack_exports__.default={title:"Components/Message List",component:_src__WEBPACK_IMPORTED_MODULE_4__.MessageList};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.MessageList,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.parameters=Object.assign({storySource:{source:"(args) => <MessageList {...args} />"}},Default.parameters)},1278:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(95),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_src__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(0),__webpack_require__(33));__webpack_exports__.default={title:"Components/Occupancy Indicator",component:_src__WEBPACK_IMPORTED_MODULE_4__.OccupancyIndicator};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.OccupancyIndicator,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.parameters=Object.assign({storySource:{source:"(args) => <OccupancyIndicator {...args} />"}},Default.parameters)},1279:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(95),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_src__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(0),__webpack_require__(33));__webpack_exports__.default={title:"Components/Typing Indicator",component:_src__WEBPACK_IMPORTED_MODULE_4__.TypingIndicator};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.TypingIndicator,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.parameters=Object.assign({storySource:{source:"(args) => <TypingIndicator {...args} />"}},Default.parameters)},1280:function(module,exports){},1281:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Light",(function(){return Light})),__webpack_require__.d(__webpack_exports__,"Dark",(function(){return Dark}));__webpack_require__(5),__webpack_require__(11),__webpack_require__(23),__webpack_require__(17),__webpack_require__(18),__webpack_require__(95),__webpack_require__(4),__webpack_require__(10),__webpack_require__(19),__webpack_require__(20);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(0),_src__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(33);__webpack_require__(1282);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Examples / Team Chat",parameters:{docs:{page:null}}};var Template=function Template(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_11__.useState)(!1),2),showMembers=_useState2[0],setShowMembers=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"app",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"channels",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_src__WEBPACK_IMPORTED_MODULE_12__.ChannelList,{})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"chat",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"people ".concat(showMembers&&"active"),onClick:function onClick(){return setShowMembers(!showMembers)},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_src__WEBPACK_IMPORTED_MODULE_12__.OccupancyIndicator,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("svg",{viewBox:"0 0 20 15",width:"20",height:"15",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("g",{fill:"currentColor",fillRule:"evenodd",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("path",{d:"M7 13.503a.5.5 0 00.5.497h11a.5.5 0 00.5-.497c-.001-.035-.032-.895-.739-1.734C17.287 10.612 15.468 10 13 10s-4.287.612-5.261 1.768c-.707.84-.738 1.699-.739 1.734M18.5 15h-11c-.827 0-1.5-.673-1.5-1.5 0-.048.011-1.19.924-2.315.525-.646 1.241-1.158 2.128-1.522C10.123 9.223 11.452 9 13 9s2.876.223 3.948.662c.887.364 1.603.876 2.128 1.522.914 1.125.924 2.267.924 2.315 0 .827-.673 1.5-1.5 1.5M13 1c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3m0 7c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4M4.5 15h-3C.673 15 0 14.327 0 13.5c0-.037.008-.927.663-1.8.378-.505.894-.904 1.533-1.188.764-.34 1.708-.512 2.805-.512.179 0 .356.005.527.014a.5.5 0 01-.053.999 9.1 9.1 0 00-.473-.012c-3.894 0-3.997 2.379-4 2.503a.5.5 0 00.5.497h3a.5.5 0 010 1L4.5 15zM5 4c-1.103 0-2 .897-2 2s.897 2 2 2 2-.897 2-2-.897-2-2-2m0 5C3.346 9 2 7.654 2 6s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3"})})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_src__WEBPACK_IMPORTED_MODULE_12__.MessageList,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_src__WEBPACK_IMPORTED_MODULE_12__.MessageInput,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_src__WEBPACK_IMPORTED_MODULE_12__.TypingIndicator,{})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"members ".concat(showMembers&&"shown"),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_src__WEBPACK_IMPORTED_MODULE_12__.MemberList,{})})]})};Template.displayName="Template";var Light=Template.bind({});Light.parameters={theme:"light"};var Dark=Template.bind({});Dark.parameters={theme:"dark"},Light.parameters=Object.assign({storySource:{source:'() => {\n  const [showMembers, setShowMembers] = useState(false);\n\n  return (\n    <div className="app">\n      <div className="channels">\n        <ChannelList />\n      </div>\n\n      <div className="chat">\n        <div\n          className={`people ${showMembers && "active"}`}\n          onClick={() => setShowMembers(!showMembers)}\n        >\n          <OccupancyIndicator />\n          <svg viewBox="0 0 20 15" width="20" height="15">\n            <g fill="currentColor" fillRule="evenodd">\n              <path d="M7 13.503a.5.5 0 00.5.497h11a.5.5 0 00.5-.497c-.001-.035-.032-.895-.739-1.734C17.287 10.612 15.468 10 13 10s-4.287.612-5.261 1.768c-.707.84-.738 1.699-.739 1.734M18.5 15h-11c-.827 0-1.5-.673-1.5-1.5 0-.048.011-1.19.924-2.315.525-.646 1.241-1.158 2.128-1.522C10.123 9.223 11.452 9 13 9s2.876.223 3.948.662c.887.364 1.603.876 2.128 1.522.914 1.125.924 2.267.924 2.315 0 .827-.673 1.5-1.5 1.5M13 1c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3m0 7c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4M4.5 15h-3C.673 15 0 14.327 0 13.5c0-.037.008-.927.663-1.8.378-.505.894-.904 1.533-1.188.764-.34 1.708-.512 2.805-.512.179 0 .356.005.527.014a.5.5 0 01-.053.999 9.1 9.1 0 00-.473-.012c-3.894 0-3.997 2.379-4 2.503a.5.5 0 00.5.497h3a.5.5 0 010 1L4.5 15zM5 4c-1.103 0-2 .897-2 2s.897 2 2 2 2-.897 2-2-.897-2-2-2m0 5C3.346 9 2 7.654 2 6s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3" />\n            </g>\n          </svg>\n        </div>\n        <MessageList />\n        <MessageInput />\n        <TypingIndicator />\n      </div>\n\n      <div className={`members ${showMembers && "shown"}`}>\n        <MemberList />\n      </div>\n    </div>\n  );\n}'}},Light.parameters),Dark.parameters=Object.assign({storySource:{source:'() => {\n  const [showMembers, setShowMembers] = useState(false);\n\n  return (\n    <div className="app">\n      <div className="channels">\n        <ChannelList />\n      </div>\n\n      <div className="chat">\n        <div\n          className={`people ${showMembers && "active"}`}\n          onClick={() => setShowMembers(!showMembers)}\n        >\n          <OccupancyIndicator />\n          <svg viewBox="0 0 20 15" width="20" height="15">\n            <g fill="currentColor" fillRule="evenodd">\n              <path d="M7 13.503a.5.5 0 00.5.497h11a.5.5 0 00.5-.497c-.001-.035-.032-.895-.739-1.734C17.287 10.612 15.468 10 13 10s-4.287.612-5.261 1.768c-.707.84-.738 1.699-.739 1.734M18.5 15h-11c-.827 0-1.5-.673-1.5-1.5 0-.048.011-1.19.924-2.315.525-.646 1.241-1.158 2.128-1.522C10.123 9.223 11.452 9 13 9s2.876.223 3.948.662c.887.364 1.603.876 2.128 1.522.914 1.125.924 2.267.924 2.315 0 .827-.673 1.5-1.5 1.5M13 1c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3m0 7c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4M4.5 15h-3C.673 15 0 14.327 0 13.5c0-.037.008-.927.663-1.8.378-.505.894-.904 1.533-1.188.764-.34 1.708-.512 2.805-.512.179 0 .356.005.527.014a.5.5 0 01-.053.999 9.1 9.1 0 00-.473-.012c-3.894 0-3.997 2.379-4 2.503a.5.5 0 00.5.497h3a.5.5 0 010 1L4.5 15zM5 4c-1.103 0-2 .897-2 2s.897 2 2 2 2-.897 2-2-.897-2-2-2m0 5C3.346 9 2 7.654 2 6s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3" />\n            </g>\n          </svg>\n        </div>\n        <MessageList />\n        <MessageInput />\n        <TypingIndicator />\n      </div>\n\n      <div className={`members ${showMembers && "shown"}`}>\n        <MemberList />\n      </div>\n    </div>\n  );\n}'}},Dark.parameters)},1282:function(module,exports,__webpack_require__){var api=__webpack_require__(108),content=__webpack_require__(1283);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1283:function(module,exports,__webpack_require__){(exports=__webpack_require__(109)(!1)).push([module.i,".app {\n  display: flex;\n  height: calc(100vh - 35px);\n  overflow: hidden;\n}\n\n.channels {\n  flex-shrink: 0;\n  width: 300px;\n}\n\n.chat {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  position: relative;\n}\n\n.members {\n  transition: 0.3s ease-in-out;\n  flex-shrink: 0;\n  width: 0;\n  transform: translateX(310px);\n}\n\n.members.shown {\n  transform: none;\n  width: 310px;\n}\n\n.people {\n  align-items: center;\n  color: gray;\n  cursor: pointer;\n  display: flex;\n  position: absolute;\n  right: 40px;\n  top: 10px;\n  z-index: 1;\n}\n\n.people.active {\n  color: rgb(142, 45, 226);\n}\n",""]),module.exports=exports},1288:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"decorators",(function(){return decorators})),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));__webpack_require__(4);var jsx_runtime=__webpack_require__(2),src=(__webpack_require__(0),__webpack_require__(33));__webpack_require__(1265),__webpack_require__(69),__webpack_require__(24),__webpack_require__(21),__webpack_require__(334),__webpack_require__(533),__webpack_require__(25),__webpack_require__(44);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var pubnub=new function PubNubMock(){var listeners={},messages=[{message:{text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",type:"text"},timetoken:"16068528857793347",uuid:"user_fbc9a54790b24ee19441260970b171c0"},{message:{text:"Vivamus ut justo rhoncus mi elementum blandit vel vel velit.",type:"text"},timetoken:"16069194583897454",uuid:"user_53bbe00387004010a8b9ad5f36bdd4a7"},{message:{text:"In at sapien nec tortor viverra laoreet sit amet vitae mauris.",type:"text"},timetoken:"16069255760118490",uuid:"user_55f74958eb00441f8171f4f8757b0f24"},{message:{text:"Integer sollicitudin eros nec libero vulputate, nec faucibus erat tristique.",type:"text"},timetoken:"16069261926915892",uuid:"user_6ef19fcc68824f9f9e3d908d796f21a3"},{message:{text:"Curabitur id quam ac mauris aliquet imperdiet quis eget nisl.",type:"text"},timetoken:"16070944454879114",uuid:"user_31be78e92e4e4218808007047cbdcebb",actions:{reaction:{"👍":[{uuid:"user_0a0579891c7148009ec254f7ae2e6367",actionTimetoken:"16069174870966352"}]}}}],users=[{uuid:{id:"user_fbc9a54790b24ee19441260970b171c0",name:"Adelia Auten",profileUrl:"https://www.gravatar.com/avatar/823948c23e7d8354649cc65a8f77e7a9?s=256&d=identicon",custom:{title:"VP Marketing"}}},{uuid:{id:"user_912210948aa849eda2c3e0c2b58355e6",name:"Danna Delacruz",profileUrl:"https://www.gravatar.com/avatar/760d4ae535f004e86140426177f7ca58?s=256&d=identicon",custom:{title:"Desktop Support Technician"}}},{uuid:{id:"user_53bbe00387004010a8b9ad5f36bdd4a7",name:"Gertie Gibbon",profileUrl:"https://www.gravatar.com/avatar/9e95672bf3246dc07b37f3b8668c5653?s=256&d=identicon",custom:{title:"Account Representative II"}}},{uuid:{id:"user_f04ca61de8ba44af8e50ed5bd37ff822",name:"Janeen Jefferson",profileUrl:"https://www.gravatar.com/avatar/cc912bd3fd19798ed0714c3b3cc4c48f?s=256&d=identicon",custom:{title:"Desktop Support Technician"}}},{uuid:{id:"user_55f74958eb00441f8171f4f8757b0f24",name:"Lakenya Logan",profileUrl:"https://www.gravatar.com/avatar/7c053f2fa508cb786468ade12ac35ecd?s=256&d=identicon",custom:{title:"Office Assistant III"}}},{uuid:{id:"user_a7f0471fb9c64a00af7b3029234cff99",name:"Nathaniel Nestor",profileUrl:"https://www.gravatar.com/avatar/ab6bda42b4db1d90f705cc109360bb55?s=256&d=identicon",custom:{title:"Mechanical Systems Engineer"}}},{uuid:{id:"user_6ef19fcc68824f9f9e3d908d796f21a3",name:"Osvaldo Oh",profileUrl:"https://www.gravatar.com/avatar/de7120222a16e2a1d56d5ea375ebe196?s=256&d=identicon",custom:{title:"Paralegal"}}},{uuid:{id:"user_4205ea2b9cc549048d4b2e9da389c348",name:"Sally Southworth",profileUrl:"https://www.gravatar.com/avatar/cfdcbb638ff2ba74ec3dbc4a44cbfb70?s=256&d=identicon",custom:{title:"Paralegal"}}},{uuid:{id:"user_31be78e92e4e4218808007047cbdcebb",name:"Tajuana Topete",profileUrl:"https://www.gravatar.com/avatar/7de36a5bc36536ad6ceb3981411c3ffb?s=256&d=identicon",custom:{title:"Food Chemist"}}},{uuid:{id:"user_d2669ccf033f46c79b0adda40cf3383c",name:"Zana Zimmerman",profileUrl:"https://www.gravatar.com/avatar/188399a6feef5e3f54ea4a58528faf32?s=256&d=identicon",custom:{title:"Programmer II"}}}],channels=[{id:"space_ce466f2e445c38976168ba78e46",name:"Company Culture",description:"Company culture space"},{id:"space_2ada61db17878cd388f95da34f9",name:"Daily Standup",description:"Async virtual standup"},{id:"space_e1eda2fd92e551358e4af1b6174",name:"Exec AMA",description:"Ask the CEO anything"},{id:"space_515fc9a2a1a895f4059c84b2971",name:"India Office",description:"भारत के कार्यालय में आपका स्वागत है🇮🇳!"},{id:"space_ac4e67b98b34b44c4a39466e93e",name:"Introductions",description:"Company wide chatter"},{id:"space_a652eb6cc340334ff0b244c4a39",name:"London Office",description:"London Office 🇬🇧"},{id:"space_149e60f311749f2a7c6515f7b34",name:"Movies",description:"Everything about movies"},{id:"space_a204f87d215a40985d35cf84bf5",name:"Off Topic",description:"Water cooler conversations"},{id:"space_c1ee1eda28554d0a34f9b9df5cfe",name:"Poland Office",description:"Zapytaj Nas O Cokolwiek 🇵🇱"},{id:"space_363d9255193e45f190539e0c7d5",name:"Running",description:"soc-running space"}],actions=[],uuid="user_fbc9a54790b24ee19441260970b171c0";return{addMessageAction:function addMessageAction(obj){var action={channel:obj.channel,data:{messageTimetoken:obj.messageTimetoken,actionTimetoken:Date.now()+"0000",type:obj.action.type,uuid:uuid,value:obj.action.value},event:"added",publisher:uuid,timetoken:Date.now()+"0000"};actions.push(action),listeners.messageAction(action)},addListener:function addListener(obj){return Object.assign(listeners,obj)},fetchMessages:function fetchMessages(args){return{channels:_defineProperty({},args.channels[0],messages)}},getUUID:function getUUID(){return uuid},getSubscribedChannels:function getSubscribedChannels(){return["space_ce466f2e445c38976168ba78e46"]},hereNow:function hereNow(args){return{channels:_defineProperty({},args.channels[0],{occupants:[{uuid:uuid},{uuid:"user_53bbe00387004010a8b9ad5f36bdd4a7"},{uuid:"user_55f74958eb00441f8171f4f8757b0f24"},{uuid:"user_6ef19fcc68824f9f9e3d908d796f21a3"},{uuid:"user_31be78e92e4e4218808007047cbdcebb"}]})}},publish:function publish(obj){var message={message:obj.message,timetoken:Date.now()+"0000",uuid:uuid};messages.push(message),listeners.message(message)},removeMessageAction:function removeMessageAction(obj){var action=actions.find((function(a){return a.data.actionTimetoken===obj.actionTimetoken})),index=actions.indexOf(action);actions.splice(index,1),action.event="removed",listeners.messageAction(action)},signal:function signal(){return!0},stop:function stop(){return!0},subscribe:function subscribe(){return!0},unsubscribe:function unsubscribe(){return!0},objects:{getAllUUIDMetadata:function getAllUUIDMetadata(){return{data:users.map((function(u){return u.uuid}))}},getAllChannelMetadata:function getAllChannelMetadata(){return{data:channels}},getChannelMembers:function getChannelMembers(){return{data:users}},getMemberships:function getMemberships(){return{data:[{channel:{id:"space_ac4e67b98b34b44c4a39466e93e"}},{channel:{id:"space_c1ee1eda28554d0a34f9b9df5cfe"}},{channel:{id:"space_ce466f2e445c38976168ba78e46"}},{channel:{id:"space_a204f87d215a40985d35cf84bf5"}},{channel:{id:"space_149e60f311749f2a7c6515f7b34"}}]}},getUUIDMetadata:function getUUIDMetadata(args){return{data:users.find((function(u){return u.uuid.id===args.uuid})).uuid}},setMemberships:function setMemberships(){return!0},removeMemberships:function removeMemberships(){return!0}}}},decorators=[function(Story,context){return Object(jsx_runtime.jsx)(src.ChatComponents,Object.assign({},{pubnub:pubnub,channel:"space_ac4e67b98b34b44c4a39466e93e",theme:context.parameters.theme||"dark"},{children:Object(jsx_runtime.jsx)(Story,{})}))}],parameters={actions:{argTypesRegex:"^on[A-Z].*"},options:{storySort:{order:["Introduction","Components",["Chat Components (Provider)"],"Examples"]}}}},15:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"l",(function(){return PubnubAtom})),__webpack_require__.d(__webpack_exports__,"n",(function(){return ThemeAtom})),__webpack_require__.d(__webpack_exports__,"b",(function(){return CurrentChannelAtom})),__webpack_require__.d(__webpack_exports__,"m",(function(){return SubscribeChannelsAtom})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ChannelsMetaAtom})),__webpack_require__.d(__webpack_exports__,"q",(function(){return UsersMetaAtom})),__webpack_require__.d(__webpack_exports__,"j",(function(){return MessagesAtom})),__webpack_require__.d(__webpack_exports__,"d",(function(){return CurrentChannelMessagesAtom})),__webpack_require__.d(__webpack_exports__,"f",(function(){return CurrentChannelPaginationAtom})),__webpack_require__.d(__webpack_exports__,"c",(function(){return CurrentChannelMembershipsAtom})),__webpack_require__.d(__webpack_exports__,"h",(function(){return CurrentUserMembershipsAtom})),__webpack_require__.d(__webpack_exports__,"k",(function(){return OccupancyAtom})),__webpack_require__.d(__webpack_exports__,"e",(function(){return CurrentChannelOccupancyAtom})),__webpack_require__.d(__webpack_exports__,"o",(function(){return TypingIndicatorAtom})),__webpack_require__.d(__webpack_exports__,"g",(function(){return CurrentChannelTypingIndicatorAtom})),__webpack_require__.d(__webpack_exports__,"i",(function(){return EmojiMartOptionsAtom})),__webpack_require__.d(__webpack_exports__,"p",(function(){return TypingIndicatorTimeoutAtom}));__webpack_require__(4),__webpack_require__(44);var recoil__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var PubnubAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.b)({key:"pubnub",default:null,dangerouslyAllowMutability:!0}),ThemeAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.b)({key:"theme",default:""}),CurrentChannelAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.b)({key:"currentChannel",default:""}),SubscribeChannelsAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.b)({key:"subscribeChannels",default:[]}),ChannelsMetaAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.b)({key:"channelsMeta",default:[]}),UsersMetaAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.b)({key:"usersMeta",default:[]}),MessagesAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.b)({key:"messages",default:{}}),CurrentChannelMessagesAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.c)({key:"channelMessages",get:function get(_ref){var _get=_ref.get;return _get(MessagesAtom)[_get(CurrentChannelAtom)]||[]},set:function set(_ref2,value){var get=_ref2.get;return(0,_ref2.set)(MessagesAtom,Object.assign({},get(MessagesAtom),_defineProperty({},get(CurrentChannelAtom),value)))}}),PaginationAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.b)({key:"pagination",default:{}}),CurrentChannelPaginationAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.c)({key:"channelPagination",get:function get(_ref3){var _get2=_ref3.get;return _get2(PaginationAtom)[_get2(CurrentChannelAtom)]||!1},set:function set(_ref4,value){var get=_ref4.get;return(0,_ref4.set)(PaginationAtom,Object.assign({},get(PaginationAtom),_defineProperty({},get(CurrentChannelAtom),value)))}}),MembershipsAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.b)({key:"memberships",default:[]}),CurrentChannelMembershipsAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.c)({key:"channelMemberships",get:function get(_ref5){var _get3=_ref5.get;return _get3(MembershipsAtom)[_get3(CurrentChannelAtom)]||[]},set:function set(_ref6,value){var get=_ref6.get;return(0,_ref6.set)(MembershipsAtom,Object.assign({},get(MembershipsAtom),_defineProperty({},get(CurrentChannelAtom),value)))}}),CurrentUserMembershipsAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.b)({key:"userMemberships",default:[]}),OccupancyAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.b)({key:"occupancy",default:{}}),CurrentChannelOccupancyAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.c)({key:"channelOccupancy",get:function get(_ref7){var _get4=_ref7.get;return _get4(OccupancyAtom)[_get4(CurrentChannelAtom)]||[]},set:function set(_ref8,value){var get=_ref8.get;return(0,_ref8.set)(OccupancyAtom,Object.assign({},get(OccupancyAtom),_defineProperty({},get(CurrentChannelAtom),value)))}}),TypingIndicatorAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.b)({key:"typingIndicator",default:{}}),CurrentChannelTypingIndicatorAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.c)({key:"channelTypingIndicator",get:function get(_ref9){var _get5=_ref9.get;return _get5(TypingIndicatorAtom)[_get5(CurrentChannelAtom)]||[]},set:function set(_ref10,value){var get=_ref10.get;return(0,_ref10.set)(TypingIndicatorAtom,Object.assign({},get(TypingIndicatorAtom),_defineProperty({},get(CurrentChannelAtom),value)))}}),EmojiMartOptionsAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.b)({key:"emojiMartOptions",default:{}}),TypingIndicatorTimeoutAtom=Object(recoil__WEBPACK_IMPORTED_MODULE_2__.b)({key:"typingIndicatorTimeout",default:10})},153:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getAllPubnubUsers})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getAllPubnubChannels})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getPubnubChannelMembers})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getPubnubUserChannels}));__webpack_require__(22),__webpack_require__(21),__webpack_require__(10),__webpack_require__(129),__webpack_require__(101);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var getAllPubnubUsers=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(pubnub){var limit,records,next,totalCount,response,_args=arguments;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:limit=_args.length>1&&void 0!==_args[1]?_args[1]:100,records=[],next="",totalCount=0;case 4:return _context.next=6,pubnub.objects.getAllUUIDMetadata({page:{next:next},limit:limit,include:{totalCount:!0,customFields:!0}});case 6:response=_context.sent,records=[].concat(_toConsumableArray(records),_toConsumableArray(response.data)),next=response.next,totalCount=response.totalCount;case 10:if(records.length<totalCount){_context.next=4;break}case 11:return _context.abrupt("return",records);case 12:case"end":return _context.stop()}}),_callee)})));return function getAllPubnubUsers(_x){return _ref.apply(this,arguments)}}(),getAllPubnubChannels=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(pubnub){var limit,records,next,totalCount,response,_args2=arguments;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:limit=_args2.length>1&&void 0!==_args2[1]?_args2[1]:100,records=[],next="",totalCount=0;case 4:return _context2.next=6,pubnub.objects.getAllChannelMetadata({page:{next:next},limit:limit,include:{totalCount:!0,customFields:!0}});case 6:response=_context2.sent,records=[].concat(_toConsumableArray(records),_toConsumableArray(response.data)),next=response.next,totalCount=response.totalCount;case 10:if(records.length<totalCount){_context2.next=4;break}case 11:return _context2.abrupt("return",records);case 12:case"end":return _context2.stop()}}),_callee2)})));return function getAllPubnubChannels(_x2){return _ref2.apply(this,arguments)}}(),getPubnubChannelMembers=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(pubnub,channel){var limit,records,next,totalCount,response,uuids,_args3=arguments;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:limit=_args3.length>2&&void 0!==_args3[2]?_args3[2]:100,records=[],next="",totalCount=0;case 4:return _context3.next=6,pubnub.objects.getChannelMembers({channel:channel,page:{next:next},sort:{"uuid.name":"asc"},limit:limit,include:{totalCount:!0}});case 6:response=_context3.sent,uuids=response.data.map((function(u){return u.uuid.id})),records=[].concat(_toConsumableArray(records),_toConsumableArray(uuids)),next=response.next,totalCount=response.totalCount;case 11:if(records.length<totalCount){_context3.next=4;break}case 12:return _context3.abrupt("return",records);case 13:case"end":return _context3.stop()}}),_callee3)})));return function getPubnubChannelMembers(_x3,_x4){return _ref3.apply(this,arguments)}}(),getPubnubUserChannels=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(pubnub,uuid){var limit,records,next,totalCount,response,channels,_args4=arguments;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:limit=_args4.length>2&&void 0!==_args4[2]?_args4[2]:100,records=[],next="",totalCount=0;case 4:return _context4.next=6,pubnub.objects.getMemberships({uuid:uuid,page:{next:next},limit:limit,include:{totalCount:!0}});case 6:response=_context4.sent,channels=response.data.map((function(c){return c.channel.id})),records=[].concat(_toConsumableArray(records),_toConsumableArray(channels)),next=response.next,totalCount=response.totalCount;case 11:if(records.length<totalCount){_context4.next=4;break}case 12:return _context4.abrupt("return",records);case 13:case"end":return _context4.stop()}}),_callee4)})));return function getPubnubUserChannels(_x5,_x6){return _ref4.apply(this,arguments)}}()},33:function(module,__webpack_exports__,__webpack_require__){"use strict";var _types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(532);__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_0__,"ChannelList")&&__webpack_require__.d(__webpack_exports__,"ChannelList",(function(){return _types__WEBPACK_IMPORTED_MODULE_0__.ChannelList})),__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_0__,"ChatComponents")&&__webpack_require__.d(__webpack_exports__,"ChatComponents",(function(){return _types__WEBPACK_IMPORTED_MODULE_0__.ChatComponents})),__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_0__,"MemberList")&&__webpack_require__.d(__webpack_exports__,"MemberList",(function(){return _types__WEBPACK_IMPORTED_MODULE_0__.MemberList})),__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_0__,"MessageInput")&&__webpack_require__.d(__webpack_exports__,"MessageInput",(function(){return _types__WEBPACK_IMPORTED_MODULE_0__.MessageInput})),__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_0__,"MessageList")&&__webpack_require__.d(__webpack_exports__,"MessageList",(function(){return _types__WEBPACK_IMPORTED_MODULE_0__.MessageList})),__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_0__,"OccupancyIndicator")&&__webpack_require__.d(__webpack_exports__,"OccupancyIndicator",(function(){return _types__WEBPACK_IMPORTED_MODULE_0__.OccupancyIndicator})),__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_0__,"TypingIndicator")&&__webpack_require__.d(__webpack_exports__,"TypingIndicator",(function(){return _types__WEBPACK_IMPORTED_MODULE_0__.TypingIndicator}));var _chat_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(535);__webpack_require__.d(__webpack_exports__,"ChatComponents",(function(){return _chat_components__WEBPACK_IMPORTED_MODULE_1__.a}));var _message_input__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(537);__webpack_require__.d(__webpack_exports__,"MessageInput",(function(){return _message_input__WEBPACK_IMPORTED_MODULE_2__.a}));var _message_list__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(534);__webpack_require__.d(__webpack_exports__,"MessageList",(function(){return _message_list__WEBPACK_IMPORTED_MODULE_3__.a}));var _member_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(538);__webpack_require__.d(__webpack_exports__,"MemberList",(function(){return _member_list__WEBPACK_IMPORTED_MODULE_4__.a}));var _channel_list__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(536);__webpack_require__.d(__webpack_exports__,"ChannelList",(function(){return _channel_list__WEBPACK_IMPORTED_MODULE_5__.a}));var _occupancy_indicator__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(539);__webpack_require__.d(__webpack_exports__,"OccupancyIndicator",(function(){return _occupancy_indicator__WEBPACK_IMPORTED_MODULE_6__.a}));var _typing_indicator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(540);__webpack_require__.d(__webpack_exports__,"TypingIndicator",(function(){return _typing_indicator__WEBPACK_IMPORTED_MODULE_7__.a}))},532:function(module,exports){},534:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return message_list_MessageList}));__webpack_require__(5),__webpack_require__(11),__webpack_require__(23),__webpack_require__(22),__webpack_require__(69),__webpack_require__(17),__webpack_require__(18),__webpack_require__(21),__webpack_require__(203),__webpack_require__(25),__webpack_require__(8),__webpack_require__(4),__webpack_require__(9),__webpack_require__(10),__webpack_require__(333),__webpack_require__(19),__webpack_require__(20),__webpack_require__(101);var jsx_runtime=__webpack_require__(2),react=__webpack_require__(0),recoil=__webpack_require__(6),dist_es=__webpack_require__(240),state_atoms=__webpack_require__(15);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var _ref=react.createElement("circle",{cx:50,cy:50,fill:"none",stroke:"currentColor",strokeWidth:10,r:25,strokeDasharray:"117.80972450961724 41.269908169872416"},react.createElement("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"0.641025641025641s",values:"0 50 50;360 50 50",keyTimes:"0;1"}));var spinner=function SvgSpinner(props){return react.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",style:{margin:"auto",background:"0 0"},width:48,height:48,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",display:"block"},props),_ref)};function logo_extends(){return(logo_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var logo_ref=react.createElement("g",{fill:"none"},react.createElement("rect",{fill:"#DE2440",width:60,height:60,rx:10}),react.createElement("path",{d:"M17.815 40v-8.994h4.058c2.1 0 3.738-.457 4.915-1.37 1.176-.913 1.765-2.41 1.765-4.49 0-1.933-.55-3.342-1.648-4.226-1.099-.883-2.85-1.325-5.252-1.325h-7.046V40h3.208zm3.428-11.426h-3.428v-6.548h3.428c1.416 0 2.44.23 3.069.689.63.459.945 1.27.945 2.431 0 1.319-.33 2.22-.989 2.703-.66.484-1.667.725-3.025.725zM35.086 40V27.256c.283-.108.781-.252 1.494-.432a9.596 9.596 0 012.358-.271c1.338 0 2.288.327 2.85.981.561.654.842 1.69.842 3.106V40h3.12V29.321c0-1.718-.581-2.988-1.743-3.808-1.162-.82-2.822-1.23-4.98-1.23-.782 0-1.553.053-2.315.16-.762.108-1.462.232-2.102.374-.64.141-1.19.28-1.648.417l-.982.308V40h3.106z",fill:"#FFF"}));var logo=function SvgLogo(props){return react.createElement("svg",logo_extends({viewBox:"0 0 60 60",width:36,height:36},props),logo_ref)};__webpack_require__(1255);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var message_list_MessageList=function MessageList(props){var pubnub=Object(recoil.e)(state_atoms.l),channel=Object(recoil.e)(state_atoms.b),users=Object(recoil.e)(state_atoms.q),theme=Object(recoil.e)(state_atoms.n),emojiMartOptions=Object(recoil.e)(state_atoms.i),_useRecoilState2=_slicedToArray(Object(recoil.d)(state_atoms.d),2),messages=_useRecoilState2[0],setMessages=_useRecoilState2[1],_useRecoilState4=_slicedToArray(Object(recoil.d)(state_atoms.f),2),paginationEnd=_useRecoilState4[0],setPaginationEnd=_useRecoilState4[1],messagesPerPage=_slicedToArray(Object(react.useState)(100),1)[0],_useState4=_slicedToArray(Object(react.useState)(!0),2),scrolledBottom=_useState4[0],setScrolledBottom=_useState4[1],_useState6=_slicedToArray(Object(react.useState)(0),2),unreadMessages=_useState6[0],setUnreadMessages=_useState6[1],_useState8=_slicedToArray(Object(react.useState)(!1),2),fetchingMessages=_useState8[0],setFetchingMessages=_useState8[1],_useState10=_slicedToArray(Object(react.useState)(!1),2),emojiPickerShown=_useState10[0],setEmojiPickerShown=_useState10[1],_useState12=_slicedToArray(Object(react.useState)(null),2),reactingToMessage=_useState12[0],setReactingToMessage=_useState12[1],endRef=Object(react.useRef)(null),listRef=Object(react.useRef)(null),spinnerRef=Object(react.useRef)(null),pickerRef=Object(react.useRef)(null),bottomObserver=Object(react.useRef)(new IntersectionObserver((function(e){return handleBottomScroll(e[0].isIntersecting)}))),spinnerObserver=Object(react.useRef)(new IntersectionObserver((function(e){return!0===e[0].isIntersecting&&fetchMoreHistory()}))),scrollToBottom=function scrollToBottom(){endRef.current&&endRef.current.scrollIntoView()},setupSpinnerObserver=function setupSpinnerObserver(){spinnerRef.current&&spinnerObserver.current.observe(spinnerRef.current)},setupBottomObserver=function setupBottomObserver(){endRef.current&&(bottomObserver.current.disconnect(),bottomObserver.current.observe(endRef.current))},isOwnMessage=function isOwnMessage(uuid){return pubnub.getUUID()===uuid},fetchHistory=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var history;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!props.disableHistoryFetch){_context.next=2;break}return _context.abrupt("return");case 2:return _context.prev=2,setFetchingMessages(!0),_context.next=6,pubnub.fetchMessages({channels:[channel],count:messagesPerPage,includeMessageActions:!0});case 6:history=_context.sent,handleHistoryFetch(history),scrollToBottom(),setupSpinnerObserver(),setupBottomObserver(),_context.next=16;break;case 13:_context.prev=13,_context.t0=_context.catch(2),console.error(_context.t0);case 16:return _context.prev=16,setFetchingMessages(!1),_context.finish(16);case 19:case"end":return _context.stop()}}),_callee,null,[[2,13,16,19]])})));return function fetchHistory(){return _ref.apply(this,arguments)}}(),fetchMoreHistory=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _listRef$current,firstMessage,response;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(pubnub){_context2.next=2;break}return _context2.abrupt("return");case 2:return _context2.prev=2,firstMessage=null===(_listRef$current=listRef.current)||void 0===_listRef$current?void 0:_listRef$current.querySelector("div"),_context2.next=6,pubnub.fetchMessages({channels:[channel],count:messagesPerPage,start:(null==messages?void 0:messages[0].timetoken)||void 0,includeMessageActions:!0});case 6:response=_context2.sent,handleHistoryFetch(response),firstMessage&&firstMessage.scrollIntoView(),_context2.next=14;break;case 11:_context2.prev=11,_context2.t0=_context2.catch(2),console.error(_context2.t0);case 14:case"end":return _context2.stop()}}),_callee2,null,[[2,11]])})));return function fetchMoreHistory(){return _ref2.apply(this,arguments)}}(),addReaction=function addReaction(reaction,messageTimetoken){pubnub.addMessageAction({channel:channel,messageTimetoken:messageTimetoken,action:{type:"reaction",value:reaction}})},handleBottomScroll=function handleBottomScroll(scrolledBottom){scrolledBottom&&setUnreadMessages(0),setScrolledBottom(scrolledBottom)},handleHistoryFetch=function handleHistoryFetch(response){var newMessages=response.channels[channel]||[],allMessages=[].concat(_toConsumableArray(messages),_toConsumableArray(newMessages)).sort((function(a,b){return a.timetoken-b.timetoken}));setMessages(allMessages),setPaginationEnd(!allMessages.length||newMessages.length!==messagesPerPage)},handleCloseReactions=function handleCloseReactions(event){var _pickerRef$current;(null===(_pickerRef$current=pickerRef.current)||void 0===_pickerRef$current?void 0:_pickerRef$current.contains(event.target))||(setEmojiPickerShown(!1),setReactingToMessage(null),document.removeEventListener("mousedown",handleCloseReactions))};Object(react.useEffect)((function(){pubnub&&((null==messages?void 0:messages.length)||fetchHistory())}),[channel]),Object(react.useEffect)((function(){(null==messages?void 0:messages.length)&&(setupBottomObserver(),scrolledBottom?scrollToBottom():setUnreadMessages(unreadMessages+1))}),[messages]);var renderItem=function renderItem(message){var uuid=message.uuid||message.publisher||"",currentUserClass=isOwnMessage(uuid)?"pn-msg--own":"";return Object(jsx_runtime.jsxs)("div",{className:"pn-msg ".concat(currentUserClass),children:[renderMessage(message),!props.disableReactions&&Object(jsx_runtime.jsx)("div",{className:"pn-msg__actions",children:Object(jsx_runtime.jsx)("div",{onClick:function onClick(e){return function handleOpenReactions(event,timetoken){event.target.appendChild(pickerRef.current),setEmojiPickerShown(!0),setReactingToMessage(timetoken),document.addEventListener("mousedown",handleCloseReactions)}(e,message.timetoken)},children:"☺"})})]},message.timetoken)},renderMessage=function renderMessage(message){var _message$message,uuid=message.uuid||message.publisher||"",user=message.message.sender||function getUser(uuid){return users.find((function(u){return u.id===uuid}))}(uuid),time=function getTime(timestamp){var ts=String(timestamp),date=new Date(parseInt(ts)/1e4),minutes=date.getMinutes();return"".concat(date.getHours(),":").concat(minutes>9?minutes:"0"+minutes)}(message.timetoken),isOwn=isOwnMessage(uuid),attachments=(null===(_message$message=message.message)||void 0===_message$message?void 0:_message$message.attachments)||[];return props.messageRenderer&&props.rendererFilter(message)?props.messageRenderer({message:message,user:user,time:time,isOwn:isOwn}):Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)("div",{className:"pn-msg__avatar",children:[(null==user?void 0:user.profileUrl)&&Object(jsx_runtime.jsx)("img",{src:user.profileUrl,alt:"User avatar "}),!(null==user?void 0:user.profileUrl)&&Object(jsx_runtime.jsx)("div",{className:"pn-msg__avatar-placeholder"})]}),Object(jsx_runtime.jsxs)("div",{className:"pn-msg__main",children:[Object(jsx_runtime.jsxs)("div",{className:"pn-msg__title",children:[Object(jsx_runtime.jsx)("span",{className:"pn-msg__author",children:(null==user?void 0:user.name)||"Unknown User"}),Object(jsx_runtime.jsx)("span",{className:"pn-msg__time",children:time})]}),props.bubbleRenderer&&props.rendererFilter(message)?props.bubbleRenderer({message:message,user:user,time:time,isOwn:isOwn}):Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("div",{className:"pn-msg__bubble",children:message.message.text}),attachments.map(renderAttachment)]}),!props.disableReactions&&renderReactions(message)]})]})},renderReactions=function renderReactions(message){var _message$actions,reactions=null===(_message$actions=message.actions)||void 0===_message$actions?void 0:_message$actions.reaction;if(reactions)return Object(jsx_runtime.jsx)("div",{className:"pn-msg__reactions",children:Object.keys(reactions).map((function(reaction){var instances=reactions[reaction],userReaction=null==instances?void 0:instances.find((function(i){return i.uuid===pubnub.getUUID()}));return Object(jsx_runtime.jsxs)("div",{className:"pn-msg__reaction ".concat(userReaction?"pn-msg__reaction--active":""),onClick:function onClick(){userReaction?function removeReaction(reaction,messageTimetoken,actionTimetoken){pubnub.removeMessageAction({channel:channel,messageTimetoken:messageTimetoken,actionTimetoken:actionTimetoken})}(0,message.timetoken,userReaction.actionTimetoken):addReaction(reaction,message.timetoken)},children:[reaction,"   ",instances.length]},reaction)}))})},renderAttachment=function renderAttachment(attachment,key){var _attachment$image,_attachment$provider,_attachment$image2,_attachment$icon,_attachment$provider2;return Object(jsx_runtime.jsxs)("div",{children:["image"===attachment.type&&Object(jsx_runtime.jsx)("img",{className:"pn-msg__image",src:null===(_attachment$image=attachment.image)||void 0===_attachment$image?void 0:_attachment$image.source}),"link"===attachment.type&&Object(jsx_runtime.jsxs)("a",{className:"pn-msg__link",href:null===(_attachment$provider=attachment.provider)||void 0===_attachment$provider?void 0:_attachment$provider.url,target:"_blank",rel:"noreferrer noopener",children:[Object(jsx_runtime.jsx)("img",{src:null===(_attachment$image2=attachment.image)||void 0===_attachment$image2?void 0:_attachment$image2.source}),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)("p",{className:"pn-msg__link-name",children:[Object(jsx_runtime.jsx)("img",{src:null===(_attachment$icon=attachment.icon)||void 0===_attachment$icon?void 0:_attachment$icon.source}),null===(_attachment$provider2=attachment.provider)||void 0===_attachment$provider2?void 0:_attachment$provider2.name]}),Object(jsx_runtime.jsx)("p",{className:"pn-msg__link-title",children:attachment.title}),Object(jsx_runtime.jsx)("p",{className:"pn-msg__link-description",children:attachment.description})]})]})]},key)};return Object(jsx_runtime.jsxs)("div",{className:"pn-msg-list pn-msg-list--".concat(theme),onScroll:props.onScroll,ref:listRef,children:[!props.disableHistoryFetch&&!paginationEnd&&Object(jsx_runtime.jsx)("span",{ref:spinnerRef,className:"pn-msg-list__spinner",children:Object(jsx_runtime.jsx)(spinner,{})}),Object(jsx_runtime.jsx)("div",{className:"pn-msg-list__spacer"}),messages&&messages.map((function(m){return renderItem(m)})),messages&&!messages.length&&!fetchingMessages&&function renderWelcomeMessage(){return Object(jsx_runtime.jsxs)("div",{className:"pn-msg",children:[Object(jsx_runtime.jsx)("div",{className:"pn-msg__avatar",children:Object(jsx_runtime.jsx)(logo,{})}),Object(jsx_runtime.jsxs)("div",{className:"pn-msg__main",children:[Object(jsx_runtime.jsxs)("div",{className:"pn-msg__title",children:[Object(jsx_runtime.jsx)("span",{className:"pn-msg__author",children:"PubNub Bot"}),Object(jsx_runtime.jsx)("span",{className:"pn-msg__time",children:"00:00"})]}),Object(jsx_runtime.jsxs)("div",{className:"pn-msg__bubble",children:["Welcome to PubNub Chat Components demo application 👋 ",Object(jsx_runtime.jsx)("br",{}),"Send a message now to start interacting with other users in the app ⬇️"]})]})]})}(),Object(jsx_runtime.jsx)("div",{className:"pn-msg-list__emoji-picker",ref:pickerRef,children:emojiPickerShown&&Object(jsx_runtime.jsx)(dist_es.a,Object.assign({},emojiMartOptions,{onSelect:function onSelect(e){addReaction(e.native,reactingToMessage),setEmojiPickerShown(!1)}}))}),Object(jsx_runtime.jsx)("div",{className:"pn-msg-list__bottom-ref",ref:endRef}),unreadMessages>0&&Object(jsx_runtime.jsxs)("div",{className:"pn-msg-list__unread",onClick:function onClick(){return scrollToBottom()},children:[unreadMessages," new messages ↓"]})]})};message_list_MessageList.displayName="MessageList";try{message_list_MessageList.displayName="MessageList",message_list_MessageList.__docgenInfo={description:"",displayName:"MessageList",props:{disableHistoryFetch:{defaultValue:null,description:"Disable fetching of messages stored in the history",name:"disableHistoryFetch",required:!1,type:{name:"boolean"}},disableReactions:{defaultValue:null,description:"Disable message reactions",name:"disableReactions",required:!1,type:{name:"boolean"}},messageRenderer:{defaultValue:null,description:"Provide custom message item renderer if themes and CSS variables aren't enough",name:"messageRenderer",required:!1,type:{name:"(props: MessageRendererProps) => Element"}},bubbleRenderer:{defaultValue:null,description:"Provide custom message bubble renderer if themes and CSS variables aren't enough",name:"bubbleRenderer",required:!1,type:{name:"(props: MessageRendererProps) => Element"}},rendererFilter:{defaultValue:null,description:"Use this if you want to render only some of the messages on your own",name:"rendererFilter",required:!1,type:{name:"(message: Message) => boolean"}},onScroll:{defaultValue:null,description:"A callback run on list scroll",name:"onScroll",required:!1,type:{name:"(event: UIEvent<HTMLElement, UIEvent>) => unknown"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/message-list/message-list.tsx#MessageList"]={docgenInfo:message_list_MessageList.__docgenInfo,name:"MessageList",path:"src/message-list/message-list.tsx#MessageList"})}catch(__react_docgen_typescript_loader_error){}},535:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return chat_components_ChatComponents}));__webpack_require__(5),__webpack_require__(11),__webpack_require__(23),__webpack_require__(22),__webpack_require__(58),__webpack_require__(69),__webpack_require__(1249),__webpack_require__(72),__webpack_require__(17),__webpack_require__(18),__webpack_require__(21),__webpack_require__(334),__webpack_require__(4),__webpack_require__(10),__webpack_require__(83),__webpack_require__(19),__webpack_require__(20),__webpack_require__(224),__webpack_require__(101);var jsx_runtime=__webpack_require__(2),react=__webpack_require__(0),recoil=__webpack_require__(6),commands=__webpack_require__(153);__webpack_require__(84);function setDeep(obj,path,value){path.reduce((function(a,b,level){return void 0===a[b]&&level<path.length-1?(a[b]={},a[b]):level===path.length-1?(a[b]=value,value):a[b]}),obj)}function cloneDeep(obj){return JSON.parse(JSON.stringify(obj))}var state_atoms=__webpack_require__(15);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var chat_components_ChatComponents=function ChatComponents(props){return Object(jsx_runtime.jsx)(recoil.a,{children:Object(jsx_runtime.jsx)(chat_components_ChatComponentsInternal,Object.assign({},props))})};chat_components_ChatComponents.displayName="ChatComponents",chat_components_ChatComponents.defaultProps={emojiMartOptions:{emoji:"",title:"",native:!0},fetchPubNubObjects:!0,subscribeChannels:[],theme:"light",enablePresence:!0,typingIndicatorTimeout:10,users:[],channels:[]};var chat_components_ChatComponentsInternal=function ChatComponentsInternal(props){var setChannelsMeta=Object(recoil.f)(state_atoms.a),setEmojiMartOptions=Object(recoil.f)(state_atoms.i),setJoinedChannels=Object(recoil.f)(state_atoms.h),setMessages=Object(recoil.f)(state_atoms.j),setOccupancy=Object(recoil.f)(state_atoms.k),setTheme=Object(recoil.f)(state_atoms.n),setTypingIndicator=Object(recoil.f)(state_atoms.o),setUsersMeta=Object(recoil.f)(state_atoms.q),_useRecoilState2=_slicedToArray(Object(recoil.d)(state_atoms.b),2),currentChannel=_useRecoilState2[0],setCurrentChannel=_useRecoilState2[1],_useRecoilState4=_slicedToArray(Object(recoil.d)(state_atoms.c),2),members=_useRecoilState4[0],setMembers=_useRecoilState4[1],_useRecoilState6=_slicedToArray(Object(recoil.d)(state_atoms.e),2),presentMembers=_useRecoilState6[0],setPresentMembers=_useRecoilState6[1],_useRecoilState8=_slicedToArray(Object(recoil.d)(state_atoms.l),2),pubnub=_useRecoilState8[0],setPubnub=_useRecoilState8[1],_useRecoilState10=_slicedToArray(Object(recoil.d)(state_atoms.m),2),subscribeChannels=_useRecoilState10[0],setSubscribeChannels=_useRecoilState10[1],_useRecoilState12=_slicedToArray(Object(recoil.d)(state_atoms.p),2),typingIndicatorTimeout=_useRecoilState12[0],setTypingIndicatorTimeout=_useRecoilState12[1];Object(react.useEffect)((function(){setPubnub(props.pubnub),setUsersMeta(props.users),setChannelsMeta(props.channels),setTheme(props.theme),setEmojiMartOptions(props.emojiMartOptions),setTypingIndicatorTimeout(props.typingIndicatorTimeout)}),[]),Object(react.useEffect)((function(){setCurrentChannel(props.channel)}),[props.channel]),Object(react.useEffect)((function(){setSubscribeChannels(props.subscribeChannels)}),[props.subscribeChannels]),Object(react.useEffect)((function(){if(pubnub)return props.fetchPubNubObjects&&fetchAllMetadata(),console.log("pubnub instance change"),setupListeners(),window.addEventListener("beforeunload",(function(){console.log("stopping pubnub"),pubnub.stop()})),function(){console.log("stopping pubnub"),pubnub.stop()}}),[pubnub]),Object(react.useEffect)((function(){currentChannel&&(subscribeChannels.includes(currentChannel)||setSubscribeChannels([].concat(_toConsumableArray(subscribeChannels),[currentChannel])),members.length||fetchMembers(),!presentMembers.length&&props.enablePresence&&fetchPresence())}),[currentChannel]),Object(react.useEffect)((function(){subscribeChannels.length&&setupSubscriptions()}),[subscribeChannels]);var setupListeners=function setupListeners(){console.log("adding listeners",pubnub),pubnub.addListener({message:function message(m){return console.log(m)},messageAction:function messageAction(m){return handleAction(m)},presence:function presence(e){return handlePresenceEvent(e)},objects:function objects(e){return handleObjectsEvent(e)},signal:function signal(e){return handleSignalEvent(e)}})},setupSubscriptions=function setupSubscriptions(){var currentSubscriptions=pubnub.getSubscribedChannels(),channels=[].concat(_toConsumableArray(subscribeChannels),[pubnub.getUUID()]).filter((function(c){return!currentSubscriptions.includes(c)}));channels.length&&(console.log("subscribing to ",channels),pubnub.subscribe({channels:channels,withPresence:props.enablePresence})),console.log("subscribed to: ",pubnub.getSubscribedChannels())},fetchAllMetadata=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var users,channels;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(commands.b)(pubnub);case 2:return users=_context.sent,setUsersMeta((function(existingUsers){var existingUsersIds=existingUsers.map((function(u){return u.id})),newUsers=users.filter((function(u){return!existingUsersIds.includes(u.id)}));return[].concat(_toConsumableArray(existingUsers),_toConsumableArray(newUsers))})),_context.next=6,Object(commands.a)(pubnub);case 6:channels=_context.sent,setChannelsMeta((function(existingChannels){var existingChannelsIds=existingChannels.map((function(user){return user.id})),newChannels=channels.filter((function(u){return!existingChannelsIds.includes(u.id)}));return[].concat(_toConsumableArray(existingChannels),_toConsumableArray(newChannels))}));case 8:case"end":return _context.stop()}}),_callee)})));return function fetchAllMetadata(){return _ref.apply(this,arguments)}}(),fetchMembers=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var members;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(commands.c)(pubnub,currentChannel);case 2:members=_context2.sent,setMembers(members);case 4:case"end":return _context2.stop()}}),_callee2)})));return function fetchMembers(){return _ref2.apply(this,arguments)}}(),fetchPresence=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var response,presentMembers;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,pubnub.hereNow({channels:[currentChannel]});case 2:response=_context3.sent,presentMembers=response.channels[currentChannel].occupants.map((function(u){return u.uuid})),setPresentMembers(presentMembers);case 5:case"end":return _context3.stop()}}),_callee3)})));return function fetchPresence(){return _ref3.apply(this,arguments)}}(),handleSignalEvent=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(signal){return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:console.log("signal event: ",signal),["typing_on","typing_off"].includes(signal.message.type)&&(setTypingIndicator((function(indicators){var indicatorsClone=cloneDeep(indicators),value="typing_on"===signal.message.type?signal.timetoken:null;return setDeep(indicatorsClone,[signal.channel,signal.publisher],value),indicatorsClone})),setTimeout((function(){setTypingIndicator((function(indicators){var indicatorsClone=cloneDeep(indicators);return setDeep(indicatorsClone,[signal.channel,signal.publisher],null),indicatorsClone}))}),1e3*typingIndicatorTimeout));case 2:case"end":return _context4.stop()}}),_callee4)})));return function handleSignalEvent(_x){return _ref4.apply(this,arguments)}}(),handlePresenceEvent=function handlePresenceEvent(event){props.onPresence&&props.onPresence(event),setOccupancy((function(occupancy){var occupancyClone=cloneDeep(occupancy);return"join"!==event.action||occupancyClone[event.channel].includes(event.uuid)||occupancyClone[event.channel].push(event.uuid),["leave","timeout"].includes(event.action)&&occupancyClone[event.channel].includes(event.uuid)&&(occupancyClone[event.channel]=occupancyClone[event.channel].filter((function(id){return id!==event.uuid}))),occupancyClone}))},handleObjectsEvent=function handleObjectsEvent(event){var message=event.message,eventChannel=message.data.channel.id;"membership"==message.type&&message.data.uuid.id==pubnub.getUUID()&&setJoinedChannels((function(joinedChannels){var joinedChannelsClone=cloneDeep(joinedChannels);return"set"!==message.event||joinedChannelsClone.includes(eventChannel)||joinedChannelsClone.push(eventChannel),"delete"===message.event&&joinedChannelsClone.includes(eventChannel)&&(joinedChannelsClone=joinedChannelsClone.filter((function(id){return id!==eventChannel}))),joinedChannelsClone}))},handleAction=function handleAction(action){if("reaction"==action.data.type){var actionData=action.data;setMessages((function(messages){var _message$actions,_message$actions$reac,messagesClone=cloneDeep(messages),message=messagesClone[action.channel].find((function(m){return m.timetoken===actionData.messageTimetoken}));message&&"added"===action.event&&((null===(_message$actions=message.actions)||void 0===_message$actions||null===(_message$actions$reac=_message$actions.reaction)||void 0===_message$actions$reac?void 0:_message$actions$reac[actionData.value])||setDeep(message,["actions","reaction",actionData.value],[]),message.actions.reaction[actionData.value].push({uuid:actionData.uuid,actionTimetoken:actionData.actionTimetoken}));if(message&&"removed"===action.event){var messageReactions=message.actions.reaction[actionData.value],messageReaction=messageReactions.findIndex((function(i){return i.actionTimetoken===actionData.actionTimetoken}));messageReactions.splice(messageReaction,1),messageReactions.length||delete message.actions.reaction[actionData.value]}return messagesClone}))}};return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:props.children})};try{chat_components_ChatComponents.displayName="ChatComponents",chat_components_ChatComponents.__docgenInfo={description:"",displayName:"ChatComponents",props:{pubnub:{defaultValue:null,description:"Expects a reference to the configured PubNub client.",name:"pubnub",required:!0,type:{name:"any"}},theme:{defaultValue:{value:'"light" as const'},description:"A general theme to be used by the components.\nExact looks can be tweaked later on with the use of CSS variables.",name:"theme",required:!1,type:{name:"enum",value:[{value:'"light"'},{value:'"dark"'},{value:'"support"'},{value:'"support-dark"'},{value:'"event"'},{value:'"event-dark"'}]}},channel:{defaultValue:null,description:'A "current" channel to display the messages and members from.',name:"channel",required:!0,type:{name:"string"}},subscribeChannels:{defaultValue:{value:"[]"},description:"Array of channels to subscribe to events from. This gets automatically populated whenever\nswitching current channel but can also be used to subscirbe to any external channels if needed",name:"subscribeChannels",required:!1,type:{name:"string[]"}},fetchPubNubObjects:{defaultValue:{value:!0},description:"By default the components will try to fetch metadata about users, channels and memberships\nfrom PubNub objects storage. This behavior can be disabled by setting this to false.",name:"fetchPubNubObjects",required:!1,type:{name:"boolean"}},enablePresence:{defaultValue:{value:!0},description:"Set to false to disable presence events. OccupancyIndicator and MemberList component will only work with memberships in that case.",name:"enablePresence",required:!1,type:{name:"boolean"}},users:{defaultValue:{value:"[]"},description:"Provide external user metadata in case there's any outside of PubNub Objects.",name:"users",required:!1,type:{name:"any[]"}},channels:{defaultValue:{value:"[]"},description:"Provide external channel metadata in case there's any outside of PubNub Objects.",name:"channels",required:!1,type:{name:"Channel[]"}},typingIndicatorTimeout:{defaultValue:{value:10},description:"Define a timeout in seconds for typing indicators to hide after last types character",name:"typingIndicatorTimeout",required:!1,type:{name:"number"}},emojiMartOptions:{defaultValue:{value:'{ emoji: "", title: "", native: true }'},description:"Pass options to emoji-mart picker.",name:"emojiMartOptions",required:!1,type:{name:"any"}},onMessage:{defaultValue:null,description:"A callback run on new messages.",name:"onMessage",required:!1,type:{name:"(message: Message) => unknown"}},onPresence:{defaultValue:null,description:"A callback run on presence events.",name:"onPresence",required:!1,type:{name:"(event: any) => unknown"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/chat-components/chat-components.tsx#ChatComponents"]={docgenInfo:chat_components_ChatComponents.__docgenInfo,name:"ChatComponents",path:"src/chat-components/chat-components.tsx#ChatComponents"})}catch(__react_docgen_typescript_loader_error){}try{chat_components_ChatComponentsInternal.displayName="ChatComponentsInternal",chat_components_ChatComponentsInternal.__docgenInfo={description:"Internal ChatComponents wrapper with all business logic",displayName:"ChatComponentsInternal",props:{pubnub:{defaultValue:null,description:"Expects a reference to the configured PubNub client.",name:"pubnub",required:!0,type:{name:"any"}},theme:{defaultValue:{value:'"light" as const'},description:"A general theme to be used by the components.\nExact looks can be tweaked later on with the use of CSS variables.",name:"theme",required:!1,type:{name:"enum",value:[{value:'"light"'},{value:'"dark"'},{value:'"support"'},{value:'"support-dark"'},{value:'"event"'},{value:'"event-dark"'}]}},channel:{defaultValue:null,description:'A "current" channel to display the messages and members from.',name:"channel",required:!0,type:{name:"string"}},subscribeChannels:{defaultValue:{value:"[]"},description:"Array of channels to subscribe to events from. This gets automatically populated whenever\nswitching current channel but can also be used to subscirbe to any external channels if needed",name:"subscribeChannels",required:!1,type:{name:"string[]"}},fetchPubNubObjects:{defaultValue:{value:!0},description:"By default the components will try to fetch metadata about users, channels and memberships\nfrom PubNub objects storage. This behavior can be disabled by setting this to false.",name:"fetchPubNubObjects",required:!1,type:{name:"boolean"}},enablePresence:{defaultValue:{value:!0},description:"Set to false to disable presence events. OccupancyIndicator and MemberList component will only work with memberships in that case.",name:"enablePresence",required:!1,type:{name:"boolean"}},users:{defaultValue:{value:"[]"},description:"Provide external user metadata in case there's any outside of PubNub Objects.",name:"users",required:!1,type:{name:"any[]"}},channels:{defaultValue:{value:"[]"},description:"Provide external channel metadata in case there's any outside of PubNub Objects.",name:"channels",required:!1,type:{name:"Channel[]"}},typingIndicatorTimeout:{defaultValue:{value:10},description:"Define a timeout in seconds for typing indicators to hide after last types character",name:"typingIndicatorTimeout",required:!1,type:{name:"number"}},emojiMartOptions:{defaultValue:{value:'{ emoji: "", title: "", native: true }'},description:"Pass options to emoji-mart picker.",name:"emojiMartOptions",required:!1,type:{name:"any"}},onMessage:{defaultValue:null,description:"A callback run on new messages.",name:"onMessage",required:!1,type:{name:"(message: Message) => unknown"}},onPresence:{defaultValue:null,description:"A callback run on presence events.",name:"onPresence",required:!1,type:{name:"(event: any) => unknown"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/chat-components/chat-components.tsx#ChatComponentsInternal"]={docgenInfo:chat_components_ChatComponentsInternal.__docgenInfo,name:"ChatComponentsInternal",path:"src/chat-components/chat-components.tsx#ChatComponentsInternal"})}catch(__react_docgen_typescript_loader_error){}},536:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return channel_list_ChannelList}));__webpack_require__(5),__webpack_require__(11),__webpack_require__(23),__webpack_require__(22),__webpack_require__(58),__webpack_require__(69),__webpack_require__(72),__webpack_require__(17),__webpack_require__(18),__webpack_require__(21),__webpack_require__(203),__webpack_require__(8),__webpack_require__(10),__webpack_require__(83),__webpack_require__(19),__webpack_require__(20),__webpack_require__(101);var jsx_runtime=__webpack_require__(2),react=__webpack_require__(0),recoil=__webpack_require__(6),state_atoms=__webpack_require__(15),commands=__webpack_require__(153);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var leave_ref=react.createElement("g",{fill:"currentColor"},react.createElement("path",{d:"M10.647 4.854L12.793 7H.5a.499.499 0 100 1h12.293l-2.146 2.145a.5.5 0 00.707.707l3-3a.497.497 0 000-.708l-3-3a.5.5 0 10-.707.71z"}),react.createElement("path",{d:"M19.001 1.5v12c0 .827-.673 1.5-1.5 1.5h-10c-.827 0-1.5-.673-1.5-1.5v-4a.5.5 0 011 0v4a.5.5 0 00.5.5h10a.5.5 0 00.5-.5v-12a.5.5 0 00-.5-.5h-10a.5.5 0 00-.5.5v4a.5.5 0 01-1 0v-4c0-.827.673-1.5 1.5-1.5h10c.827 0 1.5.673 1.5 1.5"}));var leave=function SvgLeave(props){return react.createElement("svg",_extends({width:20,height:16},props),leave_ref)};__webpack_require__(1259);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var channel_list_ChannelList=function ChannelList(props){var pubnub=Object(recoil.e)(state_atoms.l),channel=Object(recoil.e)(state_atoms.b),theme=Object(recoil.e)(state_atoms.n),channels=Object(recoil.e)(state_atoms.a),subscribeChannels=Object(recoil.e)(state_atoms.m),_useRecoilState2=_slicedToArray(Object(recoil.d)(state_atoms.h),2),joinedChannels=_useRecoilState2[0],setJoinedChannels=_useRecoilState2[1],isChannelJoined=function isChannelJoined(channel){return joinedChannels.includes(channel.id)},isChannelActive=function isChannelActive(ch){return channel===ch.id},fetchMemberships=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _joinedChannels;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,Object(commands.d)(pubnub,pubnub.getUUID());case 3:_joinedChannels=_context.sent,setJoinedChannels(_joinedChannels),_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(0),console.error(_context.t0);case 10:case"end":return _context.stop()}}),_callee,null,[[0,7]])})));return function fetchMemberships(){return _ref.apply(this,arguments)}}(),joinChannel=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(channel){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,pubnub.objects.setMemberships({channels:[channel.id]});case 3:setJoinedChannels([].concat(_toConsumableArray(joinedChannels),[channel.id])),props.onChannelJoined&&props.onChannelJoined(channel),switchChannel(channel),_context2.next=11;break;case 8:_context2.prev=8,_context2.t0=_context2.catch(0),console.error(_context2.t0);case 11:case"end":return _context2.stop()}}),_callee2,null,[[0,8]])})));return function joinChannel(_x){return _ref2.apply(this,arguments)}}(),leaveChannel=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(channel){return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,pubnub.objects.removeMemberships({channels:[channel.id]});case 3:setJoinedChannels(_toConsumableArray(joinedChannels.filter((function(id){return id!==channel.id})))),props.onChannelLeft&&props.onChannelLeft(channel),_context3.next=10;break;case 7:_context3.prev=7,_context3.t0=_context3.catch(0),console.error(_context3.t0);case 10:case"end":return _context3.stop()}}),_callee3,null,[[0,7]])})));return function leaveChannel(_x2){return _ref3.apply(this,arguments)}}(),switchChannel=function switchChannel(channel){props.onChannelSwitched&&props.onChannelSwitched(channel)};Object(react.useEffect)((function(){pubnub&&(joinedChannels.length||fetchMemberships())}),[channel]);var renderChannels=function(type){switch(type){case"subscriptions":return subscribeChannels.map((function(name){return channels.find((function(ch){return ch.id===name}))||function channelFromString(name){return{id:name,name:name}}(name)}));case"memberships":return channels.filter((function(c){return joinedChannels.includes(c.id)}));case"non-memberships":return channels.filter((function(c){return!joinedChannels.includes(c.id)}));default:return channels}}(props.show);return Object(jsx_runtime.jsx)("div",{className:"pn-channel-list pn-channel-list--".concat(theme),children:_toConsumableArray(renderChannels).sort((function(a,b){return function channelSorter(a,b){return isChannelJoined(a)&&!isChannelJoined(b)?-1:!isChannelJoined(a)&&isChannelJoined(b)?1:a.name.localeCompare(b.name,"en",{sensitivity:"base"})}(a,b)})).map((function(m){return function renderChannel(channel){var channelJoined=isChannelJoined(channel),joinedClass=channelJoined?"joined":"unjoined",activeClass=isChannelActive(channel)?"pn-channel--active":"";return props.channelRenderer?props.channelRenderer({channel:channel}):Object(jsx_runtime.jsxs)("div",{className:"pn-channel pn-channel--".concat(joinedClass," ").concat(activeClass),onClick:function onClick(){isChannelJoined(channel)?switchChannel(channel):joinChannel(channel)},children:["all"===props.show&&channelJoined&&Object(jsx_runtime.jsx)("span",{className:"pn-channel__membership"}),Object(jsx_runtime.jsxs)("div",{className:"pn-channel__title",children:[Object(jsx_runtime.jsx)("p",{className:"pn-channel__name",children:channel.name}),Object(jsx_runtime.jsx)("p",{className:"pn-channel__description",children:null==channel?void 0:channel.description})]}),channelJoined&&Object(jsx_runtime.jsx)("span",{className:"pn-channel__leave",onClick:function onClick(e){leaveChannel(channel),e.stopPropagation()},children:Object(jsx_runtime.jsx)(leave,{})})]},channel.id)}(m)}))})};channel_list_ChannelList.displayName="ChannelList",channel_list_ChannelList.defaultProps={show:"all"};try{channel_list_ChannelList.displayName="ChannelList",channel_list_ChannelList.__docgenInfo={description:"Redners an interactive list of channels.",displayName:"ChannelList",props:{show:{defaultValue:{value:"all"},description:'Channels to show on the list.\n"all" (default) = all channels stored in PubNub Objects and/or provided via ChatComponents wrapper\n"subscriptions" = only subscribed channels, fed by subscriptionChannels option of the wrapper\n"memberships" = only channels associated with current user in PubNub Objects storage\n"non-memberships" = only channels that the current user is not a member of',name:"show",required:!1,type:{name:"enum",value:[{value:'"all"'},{value:'"subscriptions"'},{value:'"memberships"'},{value:'"non-memberships"'}]}},channelRenderer:{defaultValue:null,description:"Provide custom channel renderer if themes and CSS variables aren't enough",name:"channelRenderer",required:!1,type:{name:"(props: ChannelRendererProps) => Element"}},onChannelJoined:{defaultValue:null,description:"A callback run when user joined a channel",name:"onChannelJoined",required:!1,type:{name:"(channel: Channel) => unknown"}},onChannelLeft:{defaultValue:null,description:"A callback run when user left a channel",name:"onChannelLeft",required:!1,type:{name:"(channel: Channel) => unknown"}},onChannelSwitched:{defaultValue:null,description:"A callback run when user switched to a channel",name:"onChannelSwitched",required:!1,type:{name:"(channel: Channel) => unknown"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/channel-list/channel-list.tsx#ChannelList"]={docgenInfo:channel_list_ChannelList.__docgenInfo,name:"ChannelList",path:"src/channel-list/channel-list.tsx#ChannelList"})}catch(__react_docgen_typescript_loader_error){}},537:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return message_input_MessageInput}));__webpack_require__(5),__webpack_require__(11),__webpack_require__(23),__webpack_require__(69),__webpack_require__(17),__webpack_require__(18),__webpack_require__(4),__webpack_require__(10),__webpack_require__(19),__webpack_require__(20),__webpack_require__(224),__webpack_require__(101);var jsx_runtime=__webpack_require__(2),react=__webpack_require__(0),recoil=__webpack_require__(6),dist_es=__webpack_require__(240),state_atoms=__webpack_require__(15);__webpack_require__(1251),__webpack_require__(1253);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var message_input_MessageInput=function MessageInput(props){var _useState2=_slicedToArray(Object(react.useState)(""),2),text=_useState2[0],setText=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(!1),2),emojiPickerShown=_useState4[0],setEmojiPickerShown=_useState4[1],_useState6=_slicedToArray(Object(react.useState)(!1),2),typingIndicatorSent=_useState6[0],setTypingIndicatorSent=_useState6[1],users=Object(recoil.e)(state_atoms.q),theme=Object(recoil.e)(state_atoms.n),pubnub=Object(recoil.e)(state_atoms.l),channel=Object(recoil.e)(state_atoms.b),emojiMartOptions=Object(recoil.e)(state_atoms.i),typingIndicatorTimeout=Object(recoil.e)(state_atoms.p),inputRef=Object(react.useRef)(null),pickerRef=Object(react.useRef)(null),sendMessage=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var message;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.prev=0,text){_context.next=3;break}return _context.abrupt("return");case 3:return message=Object.assign({type:"text",text:text},props.attachSenders&&{sender:users.find((function(u){return u.id===pubnub.getUUID()}))}),_context.next=6,pubnub.publish({channel:channel,message:message});case 6:props.onSend&&props.onSend(message),stopTypingIndicator(),setText(""),_context.next=14;break;case 11:_context.prev=11,_context.t0=_context.catch(0),console.error(_context.t0);case 14:case"end":return _context.stop()}}),_callee,null,[[0,11]])})));return function sendMessage(){return _ref.apply(this,arguments)}}(),startTypingIndicator=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var message;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:typingIndicatorSent||(setTypingIndicatorSent(!0),message={message:{type:"typing_on"},channel:channel},pubnub.signal(message),setTimeout((function(){setTypingIndicatorSent(!1)}),1e3*(typingIndicatorTimeout-1)));case 1:case"end":return _context2.stop()}}),_callee2)})));return function startTypingIndicator(){return _ref2.apply(this,arguments)}}(),stopTypingIndicator=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var message;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:typingIndicatorSent&&(setTypingIndicatorSent(!1),message={message:{type:"typing_off"},channel:channel},pubnub.signal(message));case 1:case"end":return _context3.stop()}}),_callee3)})));return function stopTypingIndicator(){return _ref3.apply(this,arguments)}}(),handleClosePicker=function handleClosePicker(event){var _pickerRef$current;(null==pickerRef||null===(_pickerRef$current=pickerRef.current)||void 0===_pickerRef$current?void 0:_pickerRef$current.contains(event.target))||(setEmojiPickerShown(!1),document.removeEventListener("mousedown",handleClosePicker))},handleInputChange=function handleInputChange(event){var newText=event.target.value;newText.length?startTypingIndicator():stopTypingIndicator(),props.onChange&&props.onChange(newText),function autoSize(){var input=inputRef.current;input&&setTimeout((function(){input.style.cssText="height: auto;",input.style.cssText="height: ".concat(input.scrollHeight,"px;")}),0)}(),setText(newText)};return Object(jsx_runtime.jsx)("div",{className:"pn-msg-input pn-msg-input--".concat(theme),children:Object(jsx_runtime.jsxs)("div",{className:"pn-msg-input__wrapper",children:[Object(jsx_runtime.jsx)("div",{className:"pn-msg-input__spacer",children:Object(jsx_runtime.jsx)("textarea",{className:"pn-msg-input__textarea",placeholder:props.placeholder,rows:1,value:text,onChange:function onChange(e){return handleInputChange(e)},onKeyPress:function onKeyPress(e){return function handleKeyPress(event){"Enter"!==event.key||event.shiftKey||(event.preventDefault(),sendMessage())}(e)},ref:inputRef})}),!props.disableEmojiPicker&&function renderEmojiPicker(){return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("div",{className:"pn-msg-input__icon",onClick:function onClick(){return function handleOpenPicker(){setEmojiPickerShown(!0),document.addEventListener("mousedown",handleClosePicker)}()},children:"☺"}),emojiPickerShown&&Object(jsx_runtime.jsx)("div",{className:"pn-msg-input__emoji-picker",ref:pickerRef,children:Object(jsx_runtime.jsx)(dist_es.a,Object.assign({},emojiMartOptions,{onSelect:function onSelect(e){return function handleEmojiInsertion(emoji){"native"in emoji&&(setText(text+emoji.native),setEmojiPickerShown(!1))}(e)}}))})]})}(),!props.hideSendButton&&Object(jsx_runtime.jsx)("button",{className:"pn-msg-input__send",onClick:function onClick(){return sendMessage()},children:props.sendButtonContent})]})})};message_input_MessageInput.displayName="MessageInput",message_input_MessageInput.defaultProps={placeholder:"Type Message",sendButtonContent:"→"};try{message_input_MessageInput.displayName="MessageInput",message_input_MessageInput.__docgenInfo={description:"Allows users to compose messages using text and emojis\nand automatically publish them on PubNub channels upon sending.",displayName:"MessageInput",props:{placeholder:{defaultValue:{value:"Type Message"},description:"Set the input placeholder",name:"placeholder",required:!1,type:{name:"string"}},initialValue:{defaultValue:null,description:"Set the initial value for the input",name:"initialValue",required:!1,type:{name:"string"}},attachSenders:{defaultValue:null,description:"Enable this for high-throughput environemnts to attach sender data directly to each message",name:"attachSenders",required:!1,type:{name:"boolean"}},hideSendButton:{defaultValue:null,description:"Show the Send button",name:"hideSendButton",required:!1,type:{name:"boolean"}},sendButtonContent:{defaultValue:{value:"→"},description:"Send button children",name:"sendButtonContent",required:!1,type:{name:"string | Element"}},disableEmojiPicker:{defaultValue:null,description:"Disable the built-in emoji picker",name:"disableEmojiPicker",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"Callback to handle value changes",name:"onChange",required:!1,type:{name:"(value: string) => unknown"}},onSend:{defaultValue:null,description:"Callback for extra actions while sending the message",name:"onSend",required:!1,type:{name:"(value: unknown) => unknown"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/message-input/message-input.tsx#MessageInput"]={docgenInfo:message_input_MessageInput.__docgenInfo,name:"MessageInput",path:"src/message-input/message-input.tsx#MessageInput"})}catch(__react_docgen_typescript_loader_error){}},538:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return member_list_MemberList}));__webpack_require__(69),__webpack_require__(72),__webpack_require__(17),__webpack_require__(21),__webpack_require__(203),__webpack_require__(8),__webpack_require__(83);var jsx_runtime=__webpack_require__(2),recoil=(__webpack_require__(0),__webpack_require__(6)),state_atoms=__webpack_require__(15);__webpack_require__(1257);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var member_list_MemberList=function MemberList(props){var pubnub=Object(recoil.e)(state_atoms.l),users=Object(recoil.e)(state_atoms.q),theme=Object(recoil.e)(state_atoms.n),members=Object(recoil.e)(state_atoms.c),presentMembers=Object(recoil.e)(state_atoms.e),isOwnMember=function isOwnMember(uuid){return pubnub.getUUID()===uuid},userFromString=function userFromString(uuid){return{id:uuid,name:uuid}},renderUsers=function(type){switch(type){case"subscribers":return presentMembers.map((function(id){return users.find((function(u){return u.id===id}))||userFromString(id)}));default:return members.map((function(id){return users.find((function(u){return u.id===id}))||userFromString(id)}))}}(props.show);return Object(jsx_runtime.jsx)("div",{className:"pn-member-list pn-member-list--".concat(theme),children:_toConsumableArray(renderUsers).sort((function(a,b){return function memberSorter(a,b){var pres=presentMembers;return isOwnMember(a.id)?-1:isOwnMember(b.id)?1:pres.includes(a.id)&&!pres.includes(b.id)?-1:pres.includes(b.id)&&!pres.includes(a.id)?1:a.name.localeCompare(b.name,"en",{sensitivity:"base"})}(a,b)})).map((function(m){return function renderMember(member){var _member$custom,youString=isOwnMember(member.id)?"(You)":"",memberPresent=presentMembers.includes(member.id);return props.memberRenderer?props.memberRenderer({member:member,memberPresent:memberPresent}):Object(jsx_runtime.jsxs)("div",{className:"pn-member",children:[member.profileUrl&&Object(jsx_runtime.jsx)("div",{className:"pn-member__avatar",children:Object(jsx_runtime.jsx)("img",{src:member.profileUrl,alt:"User avatar "})}),"subscribers"!==props.show&&memberPresent&&Object(jsx_runtime.jsx)("span",{className:"pn-member__presence"}),Object(jsx_runtime.jsxs)("div",{className:"pn-member__main",children:[Object(jsx_runtime.jsxs)("p",{className:"pn-member__name",children:[member.name," ",youString]}),Object(jsx_runtime.jsx)("p",{className:"pn-member__title",children:null==member||null===(_member$custom=member.custom)||void 0===_member$custom?void 0:_member$custom.title})]})]},member.id)}(m)}))})};member_list_MemberList.displayName="MemberList",member_list_MemberList.defaultProps={show:"members"};try{member_list_MemberList.displayName="MemberList",member_list_MemberList.__docgenInfo={description:"Fetches all memberships for the current channel from PubNub Objects storage and displays them as a list of users.\nThe component also marks currently subscribed users as active.",displayName:"MemberList",props:{show:{defaultValue:{value:"members"},description:'Users to show on the list\n"members" (default) = users associated with current channel in PubNub Objects storage\n"subscribers" = users subscribed to the current channel (you don\'t need to be a member to subscribe)',name:"show",required:!1,type:{name:"enum",value:[{value:'"members"'},{value:'"subscribers"'}]}},memberRenderer:{defaultValue:null,description:"Provide custom member renderer if themes and CSS variables aren't enough",name:"memberRenderer",required:!1,type:{name:"(props: MemberRendererProps) => Element"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/member-list/member-list.tsx#MemberList"]={docgenInfo:member_list_MemberList.__docgenInfo,name:"MemberList",path:"src/member-list/member-list.tsx#MemberList"})}catch(__react_docgen_typescript_loader_error){}},539:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return occupancy_indicator_OccupancyIndicator}));var jsx_runtime=__webpack_require__(2),recoil=(__webpack_require__(0),__webpack_require__(6)),state_atoms=__webpack_require__(15),occupancy_indicator_OccupancyIndicator=(__webpack_require__(1261),function OccupancyIndicator(props){var theme=Object(recoil.e)(state_atoms.n),members=Object(recoil.e)(state_atoms.c),presentMembers=Object(recoil.e)(state_atoms.e);return Object(jsx_runtime.jsxs)("div",{className:"pn-occupancy-indicator pn-occupancy-indicator--".concat(theme),onClick:props.onClick,children:[props.showPresentMembers&&Object(jsx_runtime.jsx)("span",{children:presentMembers.length}),props.showPresentMembers&&props.showTotalMembers&&" / ",props.showTotalMembers&&Object(jsx_runtime.jsx)("span",{children:members.length})]})});occupancy_indicator_OccupancyIndicator.displayName="OccupancyIndicator",occupancy_indicator_OccupancyIndicator.defaultProps={showPresentMembers:!0,showTotalMembers:!0};try{occupancy_indicator_OccupancyIndicator.displayName="OccupancyIndicator",occupancy_indicator_OccupancyIndicator.__docgenInfo={description:"",displayName:"OccupancyIndicator",props:{showPresentMembers:{defaultValue:{value:!0},description:"Show members currently present/subscribed to the channel",name:"showPresentMembers",required:!1,type:{name:"boolean"}},showTotalMembers:{defaultValue:{value:!0},description:"Show number of total memberships to the channel",name:"showTotalMembers",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"A callback run on component click",name:"onClick",required:!1,type:{name:"() => unknown"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/occupancy-indicator/occupancy-indicator.tsx#OccupancyIndicator"]={docgenInfo:occupancy_indicator_OccupancyIndicator.__docgenInfo,name:"OccupancyIndicator",path:"src/occupancy-indicator/occupancy-indicator.tsx#OccupancyIndicator"})}catch(__react_docgen_typescript_loader_error){}},540:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return typing_indicator_TypingIndicator}));__webpack_require__(58),__webpack_require__(69),__webpack_require__(533),__webpack_require__(25),__webpack_require__(8),__webpack_require__(9),__webpack_require__(333);var jsx_runtime=__webpack_require__(2),recoil=(__webpack_require__(0),__webpack_require__(6)),state_atoms=__webpack_require__(15),typing_indicator_TypingIndicator=(__webpack_require__(1263),function TypingIndicator(){var theme=Object(recoil.e)(state_atoms.n),users=Object(recoil.e)(state_atoms.q),typingIndicators=Object(recoil.e)(state_atoms.g),typingIndicatorTimeout=Object(recoil.e)(state_atoms.p);return Object(jsx_runtime.jsxs)("div",{className:"pn-typing-indicator pn-typing-indicator--".concat(theme),children:[function getIndicationString(){var ids=Object.keys(typingIndicators).filter((function(id){return Date.now()-parseInt(typingIndicators[id])/1e4<1e3*typingIndicatorTimeout})),indicateStr="";if(ids.length>1&&(indicateStr="Multiple users are typing..."),1==ids.length){var user=users.find((function(u){return u.id===ids[0]}));indicateStr="".concat((null==user?void 0:user.name)||"Unknown User"," is typing...")}return indicateStr}()," "]})});typing_indicator_TypingIndicator.displayName="TypingIndicator",typing_indicator_TypingIndicator.defaultProps={showAsMessage:!1};try{typing_indicator_TypingIndicator.displayName="TypingIndicator",typing_indicator_TypingIndicator.__docgenInfo={description:"",displayName:"TypingIndicator",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/typing-indicator/typing-indicator.tsx#TypingIndicator"]={docgenInfo:typing_indicator_TypingIndicator.__docgenInfo,name:"TypingIndicator",path:"src/typing-indicator/typing-indicator.tsx#TypingIndicator"})}catch(__react_docgen_typescript_loader_error){}},549:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/screenshot.07b810ac.png"},552:function(module,exports,__webpack_require__){__webpack_require__(553),__webpack_require__(805),__webpack_require__(806),__webpack_require__(968),__webpack_require__(1184),__webpack_require__(1216),__webpack_require__(1224),__webpack_require__(1236),__webpack_require__(1238),__webpack_require__(1243),__webpack_require__(1245),module.exports=__webpack_require__(1266)},657:function(module,exports){},806:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(420)}},[[552,1,2]]]);
//# sourceMappingURL=main.f64e21ac81dd3226c925.bundle.js.map